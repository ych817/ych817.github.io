<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>Hugo FixIt 主题配置 - 采石场</title><meta name="author" content="沉积岩">
<meta name="description" content="数学公式 MathJax 配置 配置流程 下述操作参考链接在此1 。
"><meta name="keywords" content='HUGO, 博客'>
  <meta itemprop="name" content="Hugo FixIt 主题配置">
  <meta itemprop="description" content="数学公式 MathJax 配置 配置流程 下述操作参考链接在此1 。">
  <meta itemprop="datePublished" content="2025-03-24T17:10:04+08:00">
  <meta itemprop="dateModified" content="2025-03-24T17:10:04+08:00">
  <meta itemprop="wordCount" content="1051">
  <meta itemprop="keywords" content="HUGO,博客"><meta property="og:url" content="http://localhost:1313/posts/config-hugo_fixit/">
  <meta property="og:site_name" content="采石场">
  <meta property="og:title" content="Hugo FixIt 主题配置">
  <meta property="og:description" content="数学公式 MathJax 配置 配置流程 下述操作参考链接在此1 。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-24T17:10:04+08:00">
    <meta property="article:modified_time" content="2025-03-24T17:10:04+08:00">
    <meta property="article:tag" content="HUGO">
    <meta property="article:tag" content="博客">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Hugo FixIt 主题配置">
  <meta name="twitter:description" content="数学公式 MathJax 配置 配置流程 下述操作参考链接在此1 。">
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" type="text/html" href="http://localhost:1313/posts/config-hugo_fixit/" title="Hugo FixIt 主题配置 - 采石场" /><link rel="next" type="text/html" href="http://localhost:1313/about/" title="关于我" /><link rel="alternate" type="text/markdown" href="http://localhost:1313/posts/config-hugo_fixit/index.md" title="Hugo FixIt 主题配置 - 采石场"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Hugo FixIt 主题配置",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:1313\/posts\/config-hugo_fixit\/"
    },"genre": "posts","keywords": "HUGO, 博客","wordcount":  1051 ,
    "url": "http:\/\/localhost:1313\/posts\/config-hugo_fixit\/","datePublished": "2025-03-24T17:10:04+08:00","dateModified": "2025-03-24T17:10:04+08:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "沉积岩"
      },"description": ""
  }
  </script><script src="/js/head/color-scheme.min.js"></script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="采石场"><span class="header-title-text">采石场</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a class="menu-link" href="/"><i class="fa-solid fa-home fa-fw fa-sm" aria-hidden="true"></i> 主页</a></li><li class="menu-item">
              <a class="menu-link" href="/posts/"><i class="fa-solid fa-feather fa-fw fa-sm" aria-hidden="true"></i> 文章</a></li><li class="menu-item">
              <a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> 归档</a></li><li class="menu-item">
              <a class="menu-link" href="/collections/"><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden="true"></i> 合集</a></li><li class="menu-item">
              <a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> 分类</a></li><li class="menu-item">
              <a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> 标签</a></li><li class="menu-item">
              <a class="menu-link" href="/about"><i class="fa-solid fa-circle-user fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="搜索文章标题或内容……" id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="采石场"><span class="header-title-text">采石场</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="搜索文章标题或内容……" id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              取消
            </a>
          </li><li class="menu-item"><a class="menu-link" href="/"><i class="fa-solid fa-home fa-fw fa-sm" aria-hidden="true"></i> 主页</a></li><li class="menu-item"><a class="menu-link" href="/posts/"><i class="fa-solid fa-feather fa-fw fa-sm" aria-hidden="true"></i> 文章</a></li><li class="menu-item"><a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> 归档</a></li><li class="menu-item"><a class="menu-link" href="/collections/"><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden="true"></i> 合集</a></li><li class="menu-item"><a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> 分类</a></li><li class="menu-item"><a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> 标签</a></li><li class="menu-item"><a class="menu-link" href="/about"><i class="fa-solid fa-circle-user fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><nav aria-label="breadcrumb" class="breadcrumb-container sticky">
    <ol class="breadcrumb"><li class="breadcrumb-item" data-separator="/"><a href="/" title="采石场">主页</a></li><li class="breadcrumb-item" data-separator="/"><a href="/posts/" title="Posts">文章</a></li><li class="breadcrumb-item active" data-separator="/" aria-current="page">Hugo FixIt 主题配置</li>
    </ol>
  </nav><main class="container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="合集"><div class="details collection-details open">
      <div class="details-summary collection-summary">
        <i class="fa-solid fa-layer-group fa-fw" aria-hidden="true"></i>
        <span class="collection-name" title="合集">软件安装配置</span>
        <span class="collection-count">1</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></div>
      <div class="details-content collection-content">
        <nav>
          <ul class="collection-list"><li class="collection-item"><span class="active" title="Hugo FixIt 主题配置">Hugo FixIt 主题配置</span></li></ul>
          <div class="collection-nav-simple"><i class="fa-solid fa-angle-left fa-fw collection-nav-item text-secondary" aria-hidden="true"></i><span class="text-secondary">1/1</span><i class="fa-solid fa-angle-right fa-fw collection-nav-item text-secondary" aria-hidden="true"></i></div>
        </nav>
      </div>
    </div></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>Hugo FixIt 主题配置</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      沉积岩</span></span><span class="post-included-in">&nbsp;收录于 <a href="/collections/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" class="post-collection" title="合集 - 软件安装配置"><i class="fa-solid fa-layer-group fa-fw" aria-hidden="true"></i> 软件安装配置</a></span></div><div class="post-meta-line"><span title="发布于 2025-03-24 17:10:04"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2025-03-24">2025-03-24</time></span>&nbsp;<span title="1051 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>约 1100 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>预计阅读 5 分钟</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#数学公式-mathjax-配置">数学公式 MathJax 配置</a>
      <ul>
        <li><a href="#配置流程">配置流程</a></li>
        <li><a href="#测试结果">测试结果</a></li>
      </ul>
    </li>
    <li><a href="#短代码-svg-file-配置">短代码 <code>svg-file</code> 配置</a>
      <ul>
        <li><a href="#配置流程-1">配置流程</a></li>
        <li><a href="#测试结果-1">测试结果</a></li>
      </ul>
    </li>
    <li><a href="#短代码-jsxgraph-配置">短代码 <code>jsxgraph</code> 配置</a>
      <ul>
        <li><a href="#配置流程-2">配置流程</a></li>
        <li><a href="#测试结果-2">测试结果</a></li>
      </ul>
    </li>
    <li><a href="#短代码-mathbox-配置">短代码 <code>mathbox</code> 配置</a>
      <ul>
        <li><a href="#配置流程-3">配置流程</a></li>
        <li><a href="#测试结果-3">测试结果</a></li>
      </ul>
    </li>
    <li><a href="#将博文导出为带书签的-pdf">将博文导出为带书签的 PDF</a>
      <ul>
        <li><a href="#配置流程-4">配置流程</a></li>
        <li><a href="#测试结果-4">测试结果</a></li>
      </ul>
    </li>
    <li><a href="#博客发布">博客发布</a></li>
  </ul>
</nav></div>
      </div><div class="content" id="content" data-end-flag="End."><h2 class="heading-element" id="数学公式-mathjax-配置"><span>数学公式 MathJax 配置</span>
  <a href="#%e6%95%b0%e5%ad%a6%e5%85%ac%e5%bc%8f-mathjax-%e9%85%8d%e7%bd%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 class="heading-element" id="配置流程"><span>配置流程</span>
  <a href="#%e9%85%8d%e7%bd%ae%e6%b5%81%e7%a8%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>下述操作参考链接<a href="https://github.com/hugo-fixit/FixIt/issues/574"target="_blank" rel="external nofollow noopener noreferrer">在此</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> 。</p>
<ol>
<li>
<p>首先将 <code>./themes/FixIt/layouts/partials/assets.html</code>
复制到 <code>./layouts/partials/assets.html</code> ,<br>
然后将其中与 KaTeX 中的内容删除 , 并把下述内容粘贴进该文件中 :</p>
<div class="highlight" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- /* MathJax */ -}}
</span></span><span class="line"><span class="cl">{{- $math := .Scratch.Get &#34;math&#34; -}}
</span></span><span class="line"><span class="cl">{{- if $math.enable -}}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nx">MathJax</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">loader</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">load</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;[custom]/xypic.js&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">paths</span><span class="o">:</span> <span class="p">{</span> <span class="nx">custom</span><span class="o">:</span> <span class="s1">&#39;https://cdn.jsdelivr.net/gh/sonoisa/XyJax-v3@3.0.1/build/&#39;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tex</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">packages</span><span class="o">:</span> <span class="p">{</span> <span class="s1">&#39;[+]&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;xypic&#39;</span><span class="p">]</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">inlineMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;\\(&#39;</span><span class="p">,</span> <span class="s1">&#39;\\)&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;$&#39;</span><span class="p">,</span> <span class="s1">&#39;$&#39;</span><span class="p">]],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">displayMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;\\[&#39;</span><span class="p">,</span> <span class="s1">&#39;\\]&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;$$&#39;</span><span class="p">,</span> <span class="s1">&#39;$$&#39;</span><span class="p">]],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">processEscapes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// processEnvironments: true,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">useLabelIds</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">skipHtmlTags</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="s1">&#39;noscript&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;textarea&#39;</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">enableMenu</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>   
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;MathJax-script&#34;</span> <span class="na">async</span>
</span></span><span class="line"><span class="cl"><span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="nt">mjx-container</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">display</span><span class="p">:</span> <span class="kc">inline</span><span class="o">-</span><span class="k">grid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">overflow-x</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">overflow-y</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">max-width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="nt">mjx-container</span> <span class="nt">svg</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">display</span><span class="p">:</span> <span class="kc">inline</span><span class="o">-</span><span class="k">grid</span> <span class="cp">!important</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">overflow-x</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">overflow-y</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">max-width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- end -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>为使行内公式能正确加载 , 我们还需允许 <a href="https://gohugo.io/render-hooks/passthrough/"target="_blank" rel="external nofollow noopener noreferrer"><code>passthrough render hooks</code></a><sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> 。
具体配置参考<a href="https://gohugo.io/render-hooks/passthrough/"target="_blank" rel="external nofollow noopener noreferrer">官方文档</a><sup id="fnref1:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> 。</p>
</li>
</ol>
<h3 class="heading-element" id="测试结果"><span>测试结果</span>
  <a href="#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>
<p>行间公式测试 :</p>
$$
   \rm\LaTeX\text{ definitions are here.}
   \let\ph=\phantom
   \let\vph=\vphantom
   \def\pila{\vph{fg}}
   $$</li>
<li>
<p>行内公式测试 :</p>
<p>$c = \pm\sqrt{a^2 + b^2}$ 和
$\displaystyle f(x)=\int_{-\infty}^{\infty} \hat{f}(\xi) e^{2 \pi i \xi x} d \xi$  以及
$x^2 +y^2=1$ 、
$
   \begin{array}{|l|l|}\hline
   \cellcolor{LightGreen} \rm Hello & \rm World\pila \\\hline
   \end{array}
   $ 。
$
   % \begin{array}{l}
   % \qquad~~\begin{xy}0;p+/r+1cm/:
   % (-1,+.75)*++<3pt>[F-:<10pt>:Gray][=stateOld]{}="MaI1";
   % (-1,-.75)*[stateOld]{}="MaIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MaL"*[gray]!L{\small I_a};"MaL".
   % "MaIn"."MaI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaI";
   % (+1,+.75)*++<3pt>[F=:<10pt>:Gray][=stateOldFin]{}="MaF1";
   % (+1,-.75)*[stateOldFin]{}="MaFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MaR"*[gray]!R{\small F_a};"MaR".
   % "MaFn"."MaF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaF";
   % "MaL";"MaR"**@{}?(.5)*[gray]{\small M_a}.
   % "MaF"."MaI"*+<4pt>[F-:<5pt>]\frm{}="Ma";
   % % -----------------------------------------------------------
   % "MaI1"!L;"MaIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@[gray]@{->}@`{c+/l+1.5pc/,c}c};
   % % -----------------------------------------------------------
   % (5.15,0);p+/r+1cm/:
   % % -----------------------------------------------------------
   % (-1,+.75)*[stateOld]{}="MbI1";
   % (-1,-.75)*[stateOld]{}="MbIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MbL"*[gray]!L{\small I_b};"MbL".
   % "MbIn"."MbI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MbI";
   % (+1,+.75)*[stateOldFin]{}="MbF1";
   % (+1,-.75)*[stateOldFin]{}="MbFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MbR"*[gray]!R{\small F_b};"MbR".
   % "MbFn"."MbF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MbF";
   % "MbL";"MbR"**@{}?(.5)*[gray]{\small M_b}.
   % "MbF"."MbI"*+<4pt>[F-:<5pt>]\frm{}="Mb";
   % % -----------------------------------------------------------
   % "MbI1"!L;"MbIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@[gray]@{->}@`{c+/l+1.5pc/,c}c};
   % \end{xy}
   % \\
   % \begin{xy}p+/r+1cm/:p+/u+1cm/::
   % (-2.5,-1.375)*++<3pt>[F-:<10pt>][=stateNew]{}="p",
   % {\ar@{.>}@`{c+/l+3pc/,"p"}"p"};
   % % -------------------------------------------------------
   % (-1,+.75)*++<3pt>[F-:<10pt>:Gray][=stateOld]{}="MaI1";
   % (-1,-.75)*[stateOld]{}="MaIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MaL"*[gray]!L{\small I_a};"MaL".
   % "MaIn"."MaI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaI";
   % (+1,+.75)*++<3pt>[F=:<10pt>:Gray][=stateOldFin]{}="MaF1";
   % (+1,-.75)*[stateOldFin]{}="MaFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MaR"*[gray]!R{\small F_a};"MaR".
   % "MaFn"."MaF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaF";
   % "MaL";"MaR"**@{}?(.5)*[gray]{\small M_a}.
   % "MaF"."MaI"*+<4pt>[F-:<5pt>]\frm{}="Ma";
   % % -----------------------------------------------------------
   % (0,-2.75);p+/r+1cm/:
   % (-1,+.75)*[stateOld]{}="MbI1";
   % (-1,-.75)*[stateOld]{}="MbIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MbL"*[gray]!L{\small I_b};"MbL".
   % "MbIn"."MbI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MbI";
   % (+1,+.75)*[stateOldFin]{}="MbF1";
   % (+1,-.75)*[stateOldFin]{}="MbFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MbR"*[gray]!R{\small F_b};"MbR".
   % "MbFn"."MbF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MbF";
   % "MbL";"MbR"**@{}?(.5)*[gray]{\small M_b}.
   % "MbF"."MbI"*+<4pt>[F-:<5pt>]\frm{}="Mb";
   % % -----------------------------------------------------------
   % "MaI1"!L;"MaIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@{<.}@`{c+/l+2pc/,"p"}_(.25){\scriptstyle \epsilon}"p"};
   % "MbI1"!L;"MbIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@{<.}@`{c+/l+2pc/,"p"}^(.25){\scriptstyle \epsilon}"p"};
   % \end{xy} \qquad \begin{xy}p+/r+1cm/:p+/u+1cm/::
   % (+2.5,0)*++<3pt>[F-:<10pt>][=stateNew]{}="p";
   % % -----------------------------------------------------------
   % (-1,+.75)*++<3pt>[F-:<10pt>:Gray][=stateOld]{}="MaI1";
   % (-1,-.75)*[stateOld]{}="MaIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MaL"*[gray]!L{\small I_a};"MaL".
   % "MaIn"."MaI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaI";
   % (+1,+.75)*++<3pt>[F=:<10pt>:Gray][=stateOldFin]{}="MaF1";
   % (+1,-.75)*[stateOldFin]{}="MaFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MaR"*[gray]!R{\small F_a};"MaR".
   % "MaFn"."MaF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaF";
   % "MaL";"MaR"**@{}?(.5)*[gray]{\small M_a}.
   % "MaF"."MaI"*+<4pt>[F-:<5pt>]\frm{}="Ma";
   % % -----------------------------------------------------------
   % (5,0);p+/r+1cm/:
   % (-1,+.75)*[stateOld]{}="MbI1";
   % (-1,-.75)*[stateOld]{}="MbIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MbL"*[gray]!L{\small I_b};"MbL".
   % "MbIn"."MbI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MbI";
   % (+1,+.75)*[stateOldFin]{}="MbF1";
   % (+1,-.75)*[stateOldFin]{}="MbFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MbR"*[gray]!R{\small F_b};"MbR".
   % "MbFn"."MbF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MbF";
   % "MbL";"MbR"**@{}?(.5)*[gray]{\small M_b}.
   % "MbF"."MbI"*+<4pt>[F-:<5pt>]\frm{}="Mb";
   % % -----------------------------------------------------------
   % "MaI1"!L;"MaIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@[gray]@{->}@`{c+/l+1.5pc/,c}c};
   % % -----------------------------------------------------------
   % "MaF1"!R;"MaFn"!R**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@{.>}@`{c+/r+1pc/,"p"}^(.25){\scriptstyle \epsilon}"p"};
   % "MbI1"!L;"MbIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{\ar@{<.}@`{c+/l+1pc/,"p"}^(.25){\scriptstyle \epsilon}"p"};
   % % Fig 2 : ---------------------------------------------------
   % 0;p+/r+1cm/:(0,-2.75);
   % p+/r+1cm/:p+/u+1cm/::
   % (0,-2)*++<3pt>[F=:<10pt>][=stateNewFin]{}="p",
   % {\ar@[gray]@{->}@`{"p"+/d+3pc/,"p"}"p"};
   % % -----------------------------------------------------------
   % (-1,+.75)*++<3pt>[F-:<10pt>:Gray][=stateOld]{}="MaI1";
   % (-1,-.75)*[stateOld]{}="MaIn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}}
   % ?(.5)="MaL"*[gray]!L{\small I_a};"MaL".
   % "MaIn"."MaI1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaI";
   % (+1,+.75)*++<3pt>[F=:<10pt>:Gray][=stateOldFin]{}="MaF1";
   % (+1,-.75)*[stateOldFin]{}="MaFn"**@{}
   % @={?(.35),?(.5),?(.65)} @@{*{\cdot}},
   % ,?(.5)="MaR"*[gray]!R{\small F_a};"MaR".
   % "MaFn"."MaF1"*+<8pt,5pt>[F:<3pt>]\frm{}="MaF";
   % "MaL";"MaR"**@{}?(.5)*[gray]{\small M_a}.
   % "MaF"."MaI"*+<4pt>[F-:<5pt>]\frm{}="Ma";
   % % -----------------------------------------------------------
   % "MaF1"!R;"MaFn"!R**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{
   % \PATH ~={**@{.}}~<{^>>*{\scriptstyle \epsilon}}~>{|>*\dir{>}}
   % `r/5pt c+/r1.5pc/`d/5pt "p" "p"
   % };
   % "MaI1"!L;"MaIn"!L**@{}
   % @={?(0),?(.25),?(.5),?(.75),?(1)} 
   % @@{
   % \PATH ~={**@{.}}~<{|<*\dir{<}_>>*{\scriptstyle \epsilon}}
   % `l^/5pt c+/l1.5pc/`d/5pt "p" "p"
   % };
   % \end{xy}
   % \end{array}
   $</p>
</li>
</ul>
<h2 class="heading-element" id="短代码-svg-file-配置"><span>短代码 <code>svg-file</code> 配置</span>
  <a href="#%e7%9f%ad%e4%bb%a3%e7%a0%81-svg-file-%e9%85%8d%e7%bd%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>该文件便于在博文中插入 <code>.svg</code> 文件 。与普通插入图片的方式有所不同的是 : 该方法可允许 <code>.svg</code> 文件在黑暗模式下正常显示 。</p>
<h3 class="heading-element" id="配置流程-1"><span>配置流程</span>
  <a href="#%e9%85%8d%e7%bd%ae%e6%b5%81%e7%a8%8b-1" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ol>
<li>
<p>创建文件 <code>./layouts/shortcodes/svg-file.html</code> 并将下述内容粘贴进文件中即可 。</p>
<div class="highlight" title="svg-file.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{ $svg := .Get &#34;src&#34; }}
</span></span><span class="line"><span class="cl">{{ $svgPath := path.Join &#34;static&#34; $svg }}
</span></span><span class="line"><span class="cl">{{ if fileExists $svgPath }}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;svg-container&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{ readFile $svgPath | safeHTML }}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nc">svg-container</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">display</span><span class="p">:</span> <span class="kc">inline-block</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">max-width</span><span class="p">:</span> <span class="err">{{</span> <span class="n">with</span> <span class="o">.</span><span class="n">Get</span> <span class="s2">&#34;max-width&#34;</span> <span class="p">}</span><span class="err">}</span><span class="p">{</span><span class="err">{</span> <span class="err">.</span> <span class="p">}</span><span class="err">}</span><span class="p">{</span><span class="err">{</span> <span class="err">else</span> <span class="p">}</span><span class="err">}</span><span class="nt">100</span><span class="o">%</span><span class="p">{</span><span class="err">{</span> <span class="err">end</span> <span class="p">}</span><span class="err">}</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">height</span><span class="o">:</span> <span class="nt">auto</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">overflow-x</span><span class="o">:</span> <span class="nt">auto</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">overflow-y</span><span class="o">:</span> <span class="nt">hidden</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="err">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nc">svg-container</span> <span class="nt">svg</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">width</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">height</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="err">{{</span> <span class="err">with</span> <span class="err">.Get</span> <span class="err">&#34;fill&#34;</span> <span class="p">}</span><span class="err">}</span> <span class="nt">fill</span><span class="o">:</span> <span class="p">{</span><span class="err">{</span> <span class="err">.</span> <span class="p">}</span><span class="err">}</span><span class="o">;</span><span class="p">{</span><span class="err">{</span> <span class="err">end</span> <span class="p">}</span><span class="err">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="err">{</span> <span class="err">with</span> <span class="err">.Get</span> <span class="err">&#34;stroke&#34;</span> <span class="p">}</span><span class="err">}</span> <span class="nt">stroke</span><span class="o">:</span> <span class="p">{</span><span class="err">{</span> <span class="err">.</span> <span class="p">}</span><span class="err">}</span><span class="o">;</span><span class="p">{</span><span class="err">{</span> <span class="err">end</span> <span class="p">}</span><span class="err">}</span>
</span></span><span class="line"><span class="cl">    <span class="err">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{ else }}
</span></span><span class="line"><span class="cl">  {{ errorf &#34;SVG file not found: %s&#34; $svgPath }}
</span></span><span class="line"><span class="cl">{{ end }}</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 class="heading-element" id="测试结果-1"><span>测试结果</span>
  <a href="#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c-1" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3>



  <div class="svg-container">
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   style="vertical-align: -13.186ex;"
   width="90.34ex"
   height="16.424ex"
   role="img"
   focusable="false"
   viewBox="0 -1431.4 39930.3 7259.5"
   aria-hidden="true"
   version="1.1"
   id="svg1307"
   sodipodi:docname="Xer2.11.svg"
   inkscape:version="1.1.1 (3bf5ae0d25, 2021-09-20)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview1309"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     showgrid="false"
     inkscape:zoom="0.032882297"
     inkscape:cx="19965.15"
     inkscape:cy="3634.1743"
     inkscape:window-width="1920"
     inkscape:window-height="992"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1307" />
  <defs
     id="defs853">
    <path
       id="MJX-68-TEX-N-62"
       d="M307 -11Q234 -11 168 55L158 37Q156 34 153 28T147 17T143 10L138 1L118 0H98V298Q98 599 97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V543Q179 391 180 391L183 394Q186 397 192 401T207 411T228 421T254 431T286 439T323 442Q401 442 461 379T522 216Q522 115 458 52T307 -11ZM182 98Q182 97 187 90T196 79T206 67T218 55T233 44T250 35T271 29T295 26Q330 26 363 46T412 113Q424 148 424 212Q424 287 412 323Q385 405 300 405Q270 405 239 390T188 347L182 339V98Z" />
    <path
       id="MJX-68-TEX-N-61"
       d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" />
    <path
       id="MJX-68-TEX-N-63"
       d="M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z" />
    <path
       id="MJX-68-TEX-N-6B"
       d="M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z" />
    <path
       id="MJX-68-TEX-N-6F"
       d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" />
    <path
       id="MJX-68-TEX-N-6E"
       d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" />
    <path
       id="MJX-68-TEX-N-65"
       d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" />
    <path
       id="MJX-68-TEX-N-72"
       d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z" />
    <path
       id="MJX-68-TEX-N-73"
       d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" />
    <path
       id="MJX-68-TEX-N-74"
       d="M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z" />
    <path
       id="MJX-68-TEX-N-20"
       d="" />
    <path
       id="MJX-68-TEX-N-66"
       d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z" />
    <path
       id="MJX-68-TEX-N-76"
       d="M338 431Q344 429 422 429Q479 429 503 431H508V385H497Q439 381 423 345Q421 341 356 172T288 -2Q283 -11 263 -11Q244 -11 239 -2Q99 359 98 364Q93 378 82 381T43 385H19V431H25L33 430Q41 430 53 430T79 430T104 429T122 428Q217 428 232 431H240V385H226Q187 384 184 370Q184 366 235 234L286 102L377 341V349Q377 363 367 372T349 383T335 385H331V431H338Z" />
    <path
       id="MJX-68-TEX-M-28"
       d="M437 -53Q437 -82 399 -82H394Q377 -82 342 -55Q259 7 213 102T166 306Q166 412 211 507T342 667Q377 694 393 694H399Q437 694 437 665Q437 654 426 643T397 620T356 584T311 525Q301 511 290 488T264 412T250 306Q250 191 300 105T422 -27Q437 -37 437 -53Z" />
    <path
       id="MJX-68-TEX-M-1D68A"
       d="M126 306Q105 306 90 321T74 359Q74 439 211 439Q268 439 276 438Q343 426 383 390T430 306Q431 301 431 190V81Q446 79 465 78T492 76T509 72T521 60T524 38Q524 11 506 3Q502 1 466 1Q426 1 406 5T379 14T355 36L345 30Q284 -6 205 -6Q135 -6 92 39T48 141Q48 182 79 212T158 256T252 278T342 285H347V290Q347 315 325 335T267 362Q258 363 224 363Q189 363 185 362H179L178 358Q178 353 178 352T176 345T174 337T170 330T165 322T158 316T150 311T139 308T126 306ZM132 140Q132 115 157 93T224 70Q269 70 302 87T344 133Q346 139 347 175V211H339Q256 209 194 190T132 140Z" />
    <path
       id="MJX-68-TEX-M-20"
       d="" />
    <path
       id="MJX-68-TEX-M-1D68B"
       d="M4 573Q4 596 15 603T52 611H90H124Q146 611 155 608T171 591Q173 586 173 491V396L182 402Q217 424 256 431Q280 437 309 437Q376 437 434 379T492 217Q492 162 473 118T422 47T358 8T293 -6Q229 -6 174 38Q171 13 163 7T135 1H131H122Q99 1 90 23L89 279V535H58L27 536Q4 543 4 573ZM409 215Q409 269 377 315T283 361Q255 361 224 344T177 297L173 290V167Q189 124 213 97T278 70Q330 70 369 111T409 215Z" />
    <path
       id="MJX-68-TEX-M-1D68C"
       d="M291 -6Q196 -6 131 60T66 216Q66 296 119 361Q154 403 200 421T273 439Q275 440 293 440H313Q400 440 433 409Q454 388 454 359Q454 335 439 321T402 306Q380 306 365 321T350 357V362L340 363Q339 363 326 363T303 364Q280 364 266 362Q217 352 184 313T151 215Q151 153 199 112T313 70Q341 70 357 85T381 118T394 140Q402 146 424 146Q443 146 447 144Q466 137 466 117Q466 106 457 88T429 47T374 10T291 -6Z" />
    <path
       id="MJX-68-TEX-M-29"
       d="M87 664Q87 694 126 694Q138 694 147 690T183 667Q266 605 312 510T358 306Q358 193 307 93T161 -70Q142 -82 126 -82Q105 -82 96 -73T87 -53Q87 -47 88 -44Q92 -36 116 -19T173 34T230 119Q273 206 273 306Q273 408 231 494T109 635Q87 649 87 664Z" />
    <path
       id="MJX-68-TEX-M-1D7F7"
       d="M99 461Q99 470 99 474T104 487T120 498T151 502Q213 517 251 596Q264 622 283 622Q308 622 319 597V76H373H401Q428 76 439 69T450 38Q450 11 428 1H127Q104 10 104 38Q104 62 115 69T153 76H181H235V269Q235 461 234 461Q184 426 137 424H133Q124 424 119 425T109 431T99 447V461Z" />
    <path
       id="MJX-68-TEX-M-1D7F8"
       d="M52 462Q52 528 110 575T247 622H250Q343 622 407 565T472 421Q472 371 446 324T390 248T308 178Q307 177 275 151T214 101L185 77Q185 76 286 76H388V87Q388 105 397 114T430 123T463 114Q470 107 471 100T472 61V42Q472 24 468 16T450 1H75Q53 10 53 32V38V48Q53 57 63 67T127 122Q153 144 169 157L289 256Q388 345 388 419Q388 473 346 509T231 545H224Q176 545 146 499L144 494Q155 476 155 459Q154 459 155 455T154 444T148 430T136 417T114 408Q113 408 110 408T104 407Q80 407 66 422T52 462Z" />
    <path
       id="MJX-68-TEX-M-1D7F9"
       d="M260 546Q233 546 211 541T180 531T171 524L174 514Q177 505 177 497Q177 476 162 461T125 446Q106 446 90 459T73 504Q76 540 98 565T150 601T203 616T239 621Q241 622 265 622Q322 620 362 602T420 558T444 513T451 478Q451 386 369 329L375 326Q381 323 386 320T401 311T419 298T436 283T452 263T466 240T475 212T479 180Q479 99 416 44T259 -11T105 28T44 130Q44 154 59 168T95 183Q117 183 132 169T148 131Q148 119 139 101Q175 65 260 65Q316 65 355 97T395 179Q395 211 375 240Q336 292 253 292H234H215Q194 292 185 299T175 330Q175 350 184 359Q192 368 238 370T309 384Q336 398 351 423T367 474Q367 496 350 513Q321 546 260 546Z" />
    <path
       id="MJX-68-TEX-M-1D6A1"
       d="M35 393Q35 417 46 424T89 432Q95 432 112 432T141 431H223Q238 422 241 415T244 393Q244 389 244 383T237 367T216 355Q209 355 209 354L234 319Q259 286 260 286L308 354Q308 355 301 355Q285 356 278 365T270 384L271 393Q271 420 289 428Q295 431 376 431H459Q460 430 465 427T472 422T476 416T480 407T481 393Q481 368 470 362T434 355H425H392L344 290Q295 225 295 223Q294 223 309 203T350 149L405 77L439 76H453Q474 76 484 69T495 38Q495 10 473 1H303Q281 9 281 32V38Q281 49 282 54T290 67T313 76Q324 76 324 77L259 173L197 77Q202 76 209 76Q225 75 233 68T241 55T242 38Q242 28 242 24T236 12T221 1H51Q29 9 29 32V38Q29 48 29 51T31 59T38 67T51 76H117L171 149Q224 222 224 223L124 355H90H78Q54 355 45 361T35 393Z" />
    <path
       id="MJX-68-TEX-M-1D6A3"
       d="M56 1Q40 7 37 14T34 41Q34 59 36 64Q39 67 43 73Q65 95 191 213T341 355H133V334Q133 306 124 297Q116 289 91 289H83Q60 289 51 308Q49 313 49 361L50 409Q59 427 72 430H78Q83 430 92 430T115 430T144 430T179 431T219 431T262 431H450Q452 430 455 428T459 424T463 422T466 419T468 416T469 413T470 409T471 404T472 398T472 391Q472 374 469 368L462 358Q453 349 315 218Q210 122 164 76H391V103Q391 136 400 146Q409 155 433 155Q464 155 473 135Q475 130 475 78V46Q475 24 472 16T453 1H56Z" />
    <path
       id="MJX-68-TEX-M-1D7FC"
       d="M357 536Q357 546 318 546Q258 546 205 497T133 357V353L144 361Q210 402 285 402Q362 402 414 350Q479 285 479 193Q479 111 418 50T263 -11Q234 -11 207 -3T149 26T97 81T60 171T45 301Q45 444 129 533T319 622Q388 622 421 589T454 510Q454 491 442 475T402 458Q373 458 362 475T350 510Q350 520 354 528L357 536ZM319 326T269 326T179 298T136 223Q136 202 143 174T176 112T237 68Q246 66 265 66Q319 66 360 107Q395 146 395 197Q395 250 356 289Q319 326 269 326Z" />
    <path
       id="MJX-68-TEX-M-1D7FD"
       d="M204 -10Q162 -10 162 40Q162 146 198 261T310 477Q311 478 321 491T342 517T358 535H128V524Q128 506 119 497Q111 489 86 489H78Q55 489 46 508Q44 513 44 557V580Q44 605 52 616T88 627H93Q114 627 125 611H458Q474 598 477 593T480 573Q480 559 478 553T469 543T446 521T408 477Q252 290 246 49Q246 43 246 37T246 27T245 22Q243 11 233 1T204 -10Z" />
    <path
       id="MJX-68-TEX-M-1D6A2"
       d="M26 393Q26 417 37 424T80 431H134H217Q232 422 235 416T239 393Q239 379 236 371T226 360T214 356T197 355L179 354V353L188 330Q197 306 209 272T235 201T259 133T271 89V84L274 95Q279 122 298 185T335 300T352 354Q352 355 331 355Q312 355 304 358Q288 368 288 393Q288 408 291 415T310 431H478Q479 430 484 427T491 422T495 416T499 407T500 393Q500 376 493 367T479 357T458 355H452Q426 355 425 353Q420 337 351 124T280 -94Q240 -195 168 -220Q147 -228 125 -228Q89 -228 66 -201T42 -139Q42 -116 56 -102T93 -87Q117 -87 130 -102T144 -135V-138H126Q121 -148 121 -150T130 -152Q182 -147 207 -87Q211 -78 223 -40T236 1Q230 10 102 355H75L49 356Q26 363 26 393Z" />
    <path
       id="MJX-68-TEX-M-1D7FE"
       d="M58 460Q58 523 117 572T254 621Q290 621 298 620Q376 607 421 560T466 460Q466 441 460 424T443 393T421 370T397 352T374 340T357 332L350 330L356 328Q363 325 371 321T392 310T415 295T439 274T459 249T473 217T479 179Q479 102 418 46T262 -10T106 46T45 179Q45 202 52 222T70 257T96 284T123 305T148 319T167 328L174 330L170 332Q166 333 159 336T145 343Q104 362 81 393T58 460ZM382 458Q382 491 349 518T263 546Q215 546 179 521T142 458Q142 421 178 395T262 368Q315 368 348 396T382 458ZM396 178Q396 223 358 257T263 292Q206 292 167 258T128 178Q128 137 163 102T262 66Q324 66 360 101T396 178Z" />
    <path
       id="MJX-68-TEX-M-1D7FF"
       d="M392 259Q333 210 236 210H233Q163 210 109 262Q46 325 46 411T99 550Q164 622 264 622Q293 622 319 615T376 587T428 532T464 440T479 304Q479 167 400 78T217 -11Q140 -11 105 22T70 101Q70 124 84 138T122 153Q150 153 162 137T174 101Q174 91 168 76Q179 65 216 65Q267 65 300 93Q322 109 339 130T366 173T380 210T388 242T392 259ZM388 389Q388 438 357 492T268 546T185 520Q129 479 129 415Q129 384 138 363Q145 349 156 334T195 302T255 285Q305 285 345 313T388 389Z" />
  </defs>
  <g
     data-mml-node="math"
     id="g1303"
     transform="matrix(1,0,0,-1,-2568.9982,0)"
     style="fill:#000000;stroke:#000000;stroke-width:0">
    <g
       data-mml-node="mstyle"
       id="g857">
      <g
         data-mml-node="mspace"
         id="g855" />
    </g>
    <g
       data-mml-node="mstyle"
       transform="translate(2000)"
       id="g861">
      <g
         data-mml-node="mspace"
         id="g859" />
    </g>
    <g
       data-mml-node="xypic"
       data-cmd-id="0"
       data-text-mml-ids="[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]"
       transform="translate(4000)"
       id="g1301">
      <g
         fill="none"
         stroke="currentColor"
         stroke-linecap="round"
         stroke-width="0.64"
         transform="matrix(62.5,0,0,-62.5,4101.5,250)"
         id="g987">
        <rect
           x="-8"
           y="-8"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect863" />
        <rect
           x="8"
           y="-8"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect865" />
        <rect
           x="162.88"
           y="-8"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect867" />
        <rect
           x="178.88"
           y="-8"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect869" />
        <line
           x1="16"
           y1="0"
           x2="162.88"
           y2="0"
           stroke-dasharray="none"
           id="line871" />
        <g
           transform="translate(162.88)"
           id="g877">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path873" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path875" />
        </g>
        <g
           transform="translate(0,-10.25)"
           id="g879" />
        <rect
           x="333.76001"
           y="-8"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect881" />
        <rect
           x="349.76001"
           y="-8"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect883" />
        <line
           x1="186.88"
           y1="0"
           x2="333.76001"
           y2="0"
           stroke-dasharray="none"
           id="line885" />
        <g
           transform="translate(333.76)"
           id="g891">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path887" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path889" />
        </g>
        <g
           transform="translate(0,-10.25)"
           id="g893" />
        <line
           x1="357.76001"
           y1="0"
           x2="450.72"
           y2="0"
           stroke-dasharray="none"
           id="line895" />
        <g
           transform="translate(450.72)"
           id="g901">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path897" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path899" />
        </g>
        <rect
           x="-8"
           y="38.400002"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect903" />
        <rect
           x="8"
           y="38.400002"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect905" />
        <line
           x1="0"
           y1="0"
           x2="0"
           y2="38.400002"
           stroke-dasharray="none"
           id="line907" />
        <g
           transform="rotate(90,-19.2,19.2)"
           id="g913">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path909" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path911" />
        </g>
        <line
           x1="0"
           y1="46.400002"
           x2="-32.720001"
           y2="79.120003"
           stroke-dasharray="none"
           id="line915" />
        <g
           transform="rotate(135,-32.809928,32.809827)"
           id="g921">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path917" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path919" />
        </g>
        <line
           x1="16"
           y1="46.400002"
           x2="48.720001"
           y2="79.120003"
           stroke-dasharray="none"
           id="line923" />
        <g
           transform="rotate(45,-71.209928,98.523882)"
           id="g929">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path925" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path927" />
        </g>
        <rect
           x="162.88"
           y="38.400002"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect931" />
        <rect
           x="178.88"
           y="38.400002"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect933" />
        <line
           x1="170.88"
           y1="0"
           x2="170.88"
           y2="38.400002"
           stroke-dasharray="none"
           id="line935" />
        <g
           transform="rotate(90,66.24,104.64)"
           id="g941">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path937" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path939" />
        </g>
        <line
           x1="170.88"
           y1="46.400002"
           x2="138.16"
           y2="79.120003"
           stroke-dasharray="none"
           id="line943" />
        <g
           transform="rotate(135,52.630072,68.200233)"
           id="g949">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path945" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path947" />
        </g>
        <line
           x1="186.88"
           y1="46.400002"
           x2="219.60001"
           y2="79.120003"
           stroke-dasharray="none"
           id="line951" />
        <g
           transform="rotate(45,14.230072,304.79429)"
           id="g957">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path953" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path955" />
        </g>
        <rect
           x="333.76001"
           y="38.400002"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect959" />
        <rect
           x="349.76001"
           y="38.400002"
           width="16"
           height="16"
           rx="0"
           stroke="currentColor"
           id="rect961" />
        <line
           x1="341.76001"
           y1="0"
           x2="341.76001"
           y2="38.400002"
           stroke-dasharray="none"
           id="line963" />
        <g
           transform="rotate(90,151.68,190.08)"
           id="g969">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path965" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path967" />
        </g>
        <line
           x1="341.76001"
           y1="46.400002"
           x2="309.87"
           y2="78.290001"
           stroke-dasharray="none"
           id="line971" />
        <g
           transform="rotate(135,138.07007,103.59064)"
           id="g977">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path973" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path975" />
        </g>
        <line
           x1="357.76001"
           y1="46.400002"
           x2="390.48001"
           y2="79.120003"
           stroke-dasharray="none"
           id="line979" />
        <g
           transform="rotate(45,99.670072,511.0647)"
           id="g985">
          <path
             d="M 0,0 Q -3.55,0.32 -7.82,2.35"
             id="path981" />
          <path
             d="M 0,0 Q -3.55,-0.32 -7.82,-2.35"
             id="path983" />
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="0"
         data-y="0"
         data-xypic-id="0"
         transform="translate(4101.5,250)"
         id="g997">
        <g
           data-mml-node="mstyle"
           id="g995">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g993">
            <g
               data-mml-node="mstyle"
               id="g991">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g989" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="1"
         data-y="0"
         data-xypic-id="1"
         transform="translate(5101.5,250)"
         id="g1007">
        <g
           data-mml-node="mstyle"
           id="g1005">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1003">
            <g
               data-mml-node="mstyle"
               id="g1001">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g999" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="10.68"
         data-y="0"
         data-xypic-id="2"
         transform="translate(14781.5,250)"
         id="g1017">
        <g
           data-mml-node="mstyle"
           id="g1015">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1013">
            <g
               data-mml-node="mstyle"
               id="g1011">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1009" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="11.68"
         data-y="0"
         data-xypic-id="3"
         transform="translate(15781.5,250)"
         id="g1027">
        <g
           data-mml-node="mstyle"
           id="g1025">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1023">
            <g
               data-mml-node="mstyle"
               id="g1021">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1019" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="4.396087952817069"
         data-y="-0.39919953083036164"
         data-xypic-id="4"
         transform="translate(8497.5,649.2)"
         id="g1049">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1047">
          <g
             data-mml-node="mtext"
             id="g1045">
            <use
               data-c="62"
               xlink:href="#MJX-68-TEX-N-62"
               id="use1029"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="61"
               xlink:href="#MJX-68-TEX-N-61"
               transform="translate(556)"
               id="use1031"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="63"
               xlink:href="#MJX-68-TEX-N-63"
               transform="translate(1056)"
               id="use1033"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="6B"
               xlink:href="#MJX-68-TEX-N-6B"
               transform="translate(1500)"
               id="use1035"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="62"
               xlink:href="#MJX-68-TEX-N-62"
               transform="translate(2028)"
               id="use1037"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="6F"
               xlink:href="#MJX-68-TEX-N-6F"
               transform="translate(2584)"
               id="use1039"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="6E"
               xlink:href="#MJX-68-TEX-N-6E"
               transform="translate(3084)"
               id="use1041"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="65"
               xlink:href="#MJX-68-TEX-N-65"
               transform="translate(3640)"
               id="use1043"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="21.36"
         data-y="0"
         data-xypic-id="5"
         transform="translate(25461.5,250)"
         id="g1059">
        <g
           data-mml-node="mstyle"
           id="g1057">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1055">
            <g
               data-mml-node="mstyle"
               id="g1053">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1051" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="22.36"
         data-y="0"
         data-xypic-id="6"
         transform="translate(26461.5,250)"
         id="g1069">
        <g
           data-mml-node="mstyle"
           id="g1067">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1065">
            <g
               data-mml-node="mstyle"
               id="g1063">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1061" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="15.076087952817069"
         data-y="-0.39919953083036164"
         data-xypic-id="7"
         transform="translate(19177.5,649.2)"
         id="g1091">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1089">
          <g
             data-mml-node="mtext"
             id="g1087">
            <use
               data-c="62"
               xlink:href="#MJX-68-TEX-N-62"
               id="use1071"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="61"
               xlink:href="#MJX-68-TEX-N-61"
               transform="translate(556)"
               id="use1073"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="63"
               xlink:href="#MJX-68-TEX-N-63"
               transform="translate(1056)"
               id="use1075"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="6B"
               xlink:href="#MJX-68-TEX-N-6B"
               transform="translate(1500)"
               id="use1077"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="62"
               xlink:href="#MJX-68-TEX-N-62"
               transform="translate(2028)"
               id="use1079"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="6F"
               xlink:href="#MJX-68-TEX-N-6F"
               transform="translate(2584)"
               id="use1081"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="6E"
               xlink:href="#MJX-68-TEX-N-6E"
               transform="translate(3084)"
               id="use1083"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="65"
               xlink:href="#MJX-68-TEX-N-65"
               transform="translate(3640)"
               id="use1085"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="28.33862675168815"
         data-y="0.24536605307173198"
         data-xypic-id="8"
         transform="translate(32440.1,4.6)"
         id="g1121">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1119">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1117">
            <g
               data-mml-node="mtext"
               id="g1115">
              <use
                 data-c="72"
                 xlink:href="#MJX-68-TEX-N-72"
                 id="use1093"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="65"
                 xlink:href="#MJX-68-TEX-N-65"
                 transform="translate(392)"
                 id="use1095"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="73"
                 xlink:href="#MJX-68-TEX-N-73"
                 transform="translate(836)"
                 id="use1097"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="74"
                 xlink:href="#MJX-68-TEX-N-74"
                 transform="translate(1230)"
                 id="use1099"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="20"
                 xlink:href="#MJX-68-TEX-N-20"
                 transform="translate(1619)"
                 id="use1101"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="6F"
                 xlink:href="#MJX-68-TEX-N-6F"
                 transform="translate(1869)"
                 id="use1103"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="66"
                 xlink:href="#MJX-68-TEX-N-66"
                 transform="translate(2369)"
                 id="use1105"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="20"
                 xlink:href="#MJX-68-TEX-N-20"
                 transform="translate(2675)"
                 id="use1107"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="65"
                 xlink:href="#MJX-68-TEX-N-65"
                 transform="translate(2925)"
                 id="use1109"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="6E"
                 xlink:href="#MJX-68-TEX-N-6E"
                 transform="translate(3369)"
                 id="use1111"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
              <use
                 data-c="76"
                 xlink:href="#MJX-68-TEX-N-76"
                 transform="translate(3925)"
                 id="use1113"
                 x="0"
                 y="0"
                 width="100%"
                 height="100%" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="1.6653345369377348e-16"
         data-y="2.9"
         data-xypic-id="9"
         transform="translate(4101.5,-2650)"
         id="g1131">
        <g
           data-mml-node="mstyle"
           id="g1129">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1127">
            <g
               data-mml-node="mstyle"
               id="g1125">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1123" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="1.0000000000000002"
         data-y="2.9"
         data-xypic-id="10"
         transform="translate(5101.5,-2650)"
         id="g1141">
        <g
           data-mml-node="mstyle"
           id="g1139">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1137">
            <g
               data-mml-node="mstyle"
               id="g1135">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1133" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="-3.7600403089594656"
         data-y="5.5771062735722685"
         data-xypic-id="11"
         transform="translate(341.4,-5327.1)"
         id="g1161">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1159">
          <g
             data-mml-node="mtext"
             id="g1157">
            <use
               data-c="28"
               xlink:href="#MJX-68-TEX-M-28"
               id="use1143"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D68A"
               xlink:href="#MJX-68-TEX-M-1D68A"
               transform="translate(525)"
               id="use1145"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(1050)"
               id="use1147"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D68B"
               xlink:href="#MJX-68-TEX-M-1D68B"
               transform="translate(1575)"
               id="use1149"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(2100)"
               id="use1151"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D68C"
               xlink:href="#MJX-68-TEX-M-1D68C"
               transform="translate(2625)"
               id="use1153"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="29"
               xlink:href="#MJX-68-TEX-M-29"
               transform="translate(3150)"
               id="use1155"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="1.6045762979144977"
         data-y="5.5771062735722685"
         data-xypic-id="12"
         transform="translate(5706,-5327.1)"
         id="g1187">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1185">
          <g
             data-mml-node="mtext"
             id="g1183">
            <use
               data-c="28"
               xlink:href="#MJX-68-TEX-M-28"
               id="use1163"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7F7"
               xlink:href="#MJX-68-TEX-M-1D7F7"
               transform="translate(525)"
               id="use1165"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7F7"
               xlink:href="#MJX-68-TEX-M-1D7F7"
               transform="translate(1050)"
               id="use1167"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(1575)"
               id="use1169"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7F7"
               xlink:href="#MJX-68-TEX-M-1D7F7"
               transform="translate(2100)"
               id="use1171"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7F8"
               xlink:href="#MJX-68-TEX-M-1D7F8"
               transform="translate(2625)"
               id="use1173"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(3150)"
               id="use1175"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7F7"
               xlink:href="#MJX-68-TEX-M-1D7F7"
               transform="translate(3675)"
               id="use1177"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7F9"
               xlink:href="#MJX-68-TEX-M-1D7F9"
               transform="translate(4200)"
               id="use1179"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="29"
               xlink:href="#MJX-68-TEX-M-29"
               transform="translate(4725)"
               id="use1181"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="10.68"
         data-y="2.9"
         data-xypic-id="13"
         transform="translate(14781.5,-2650)"
         id="g1197">
        <g
           data-mml-node="mstyle"
           id="g1195">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1193">
            <g
               data-mml-node="mstyle"
               id="g1191">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1189" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="11.68"
         data-y="2.9"
         data-xypic-id="14"
         transform="translate(15781.5,-2650)"
         id="g1207">
        <g
           data-mml-node="mstyle"
           id="g1205">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1203">
            <g
               data-mml-node="mstyle"
               id="g1201">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1199" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="7.291190751163471"
         data-y="5.5771062735722685"
         data-xypic-id="15"
         transform="translate(11392.7,-5327.1)"
         id="g1223">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1221">
          <g
             data-mml-node="mtext"
             id="g1219">
            <use
               data-c="28"
               xlink:href="#MJX-68-TEX-M-28"
               id="use1209"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D6A1"
               xlink:href="#MJX-68-TEX-M-1D6A1"
               transform="translate(525)"
               id="use1211"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(1050)"
               id="use1213"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D6A3"
               xlink:href="#MJX-68-TEX-M-1D6A3"
               transform="translate(1575)"
               id="use1215"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="29"
               xlink:href="#MJX-68-TEX-M-29"
               transform="translate(2100)"
               id="use1217"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="12.841422888098903"
         data-y="5.5771062735722685"
         data-xypic-id="16"
         transform="translate(16942.9,-5327.1)"
         id="g1243">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1241">
          <g
             data-mml-node="mtext"
             id="g1239">
            <use
               data-c="28"
               xlink:href="#MJX-68-TEX-M-28"
               id="use1225"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FC"
               xlink:href="#MJX-68-TEX-M-1D7FC"
               transform="translate(525)"
               id="use1227"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FC"
               xlink:href="#MJX-68-TEX-M-1D7FC"
               transform="translate(1050)"
               id="use1229"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(1575)"
               id="use1231"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FD"
               xlink:href="#MJX-68-TEX-M-1D7FD"
               transform="translate(2100)"
               id="use1233"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FD"
               xlink:href="#MJX-68-TEX-M-1D7FD"
               transform="translate(2625)"
               id="use1235"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="29"
               xlink:href="#MJX-68-TEX-M-29"
               transform="translate(3150)"
               id="use1237"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="21.36"
         data-y="2.9"
         data-xypic-id="17"
         transform="translate(25461.5,-2650)"
         id="g1253">
        <g
           data-mml-node="mstyle"
           id="g1251">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1249">
            <g
               data-mml-node="mstyle"
               id="g1247">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1245" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="22.36"
         data-y="2.9"
         data-xypic-id="18"
         transform="translate(26461.5,-2650)"
         id="g1263">
        <g
           data-mml-node="mstyle"
           id="g1261">
          <g
             data-mml-node="TeXAtom"
             data-mjx-texclass="ORD"
             id="g1259">
            <g
               data-mml-node="mstyle"
               id="g1257">
              <g
                 data-mml-node="TeXAtom"
                 data-mjx-texclass="ORD"
                 id="g1255" />
            </g>
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="17.97119075116347"
         data-y="5.52548747854565"
         data-xypic-id="19"
         transform="translate(22072.7,-5275.5)"
         id="g1279">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1277">
          <g
             data-mml-node="mtext"
             id="g1275">
            <use
               data-c="28"
               xlink:href="#MJX-68-TEX-M-28"
               id="use1265"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D6A1"
               xlink:href="#MJX-68-TEX-M-1D6A1"
               transform="translate(525)"
               id="use1267"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(1050)"
               id="use1269"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D6A2"
               xlink:href="#MJX-68-TEX-M-1D6A2"
               transform="translate(1575)"
               id="use1271"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="29"
               xlink:href="#MJX-68-TEX-M-29"
               transform="translate(2100)"
               id="use1273"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
      <g
         stroke="currentColor"
         fill="currentColor"
         data-x="23.521422888098904"
         data-y="5.5771062735722685"
         data-xypic-id="20"
         transform="translate(27622.9,-5327.1)"
         id="g1299">
        <g
           data-mml-node="mstyle"
           transform="scale(0.707)"
           id="g1297">
          <g
             data-mml-node="mtext"
             id="g1295">
            <use
               data-c="28"
               xlink:href="#MJX-68-TEX-M-28"
               id="use1281"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FE"
               xlink:href="#MJX-68-TEX-M-1D7FE"
               transform="translate(525)"
               id="use1283"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FE"
               xlink:href="#MJX-68-TEX-M-1D7FE"
               transform="translate(1050)"
               id="use1285"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="20"
               xlink:href="#MJX-68-TEX-M-20"
               transform="translate(1575)"
               id="use1287"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FF"
               xlink:href="#MJX-68-TEX-M-1D7FF"
               transform="translate(2100)"
               id="use1289"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="1D7FF"
               xlink:href="#MJX-68-TEX-M-1D7FF"
               transform="translate(2625)"
               id="use1291"
               x="0"
               y="0"
               width="100%"
               height="100%" />
            <use
               data-c="29"
               xlink:href="#MJX-68-TEX-M-29"
               transform="translate(3150)"
               id="use1293"
               x="0"
               y="0"
               width="100%"
               height="100%" />
          </g>
        </g>
      </g>
    </g>
  </g>
</svg>

  </div>
  <style>
    .svg-container {
      display: inline-block;
      width: 100%;
      max-width: 100%;
      height: auto;
      overflow-x: auto;
      overflow-y: hidden;
    }
    .svg-container svg {
      width: auto;
      height: auto;
      
      
    }
  </style>

<h2 class="heading-element" id="短代码-jsxgraph-配置"><span>短代码 <code>jsxgraph</code> 配置</span>
  <a href="#%e7%9f%ad%e4%bb%a3%e7%a0%81-jsxgraph-%e9%85%8d%e7%bd%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>一个类似 Geogebra 的小工具 。</p>
<h3 class="heading-element" id="配置流程-2"><span>配置流程</span>
  <a href="#%e9%85%8d%e7%bd%ae%e6%b5%81%e7%a8%8b-2" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ol>
<li>
<p>首先在 <code>./layouts/partials/assets.html</code> 中加入下述代码 :</p>
<div class="highlight" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- /* JSXGraph */ -}}
</span></span><span class="line"><span class="cl">{{- if .Store.Get &#34;hasJSXGraph&#34; -}}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/css&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  {{- $source := $cdn.jsxgraph | default &#34;https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js&#34; -}}
</span></span><span class="line"><span class="cl">  {{- dict &#34;Source&#34; $source &#34;Fingerprint&#34; $fingerprint &#34;Defer&#34; true | dict &#34;Scratch&#34; .Scratch &#34;Data&#34; | partial &#34;scratch/script.html&#34; -}}
</span></span><span class="line"><span class="cl">{{- end -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>然后创建 <code>./layouts/partials/shortcodes/jsxgraph.html</code> 并将下述代码粘贴进文件中即可 。</p>
<div class="highlight" title="jsxgraph.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- $options := .Get &#34;width&#34; | default (.Get 0) | dict &#34;width&#34; -}}
</span></span><span class="line"><span class="cl">{{- $options = .Get &#34;height&#34; | default (.Get 1) | dict &#34;height&#34; | merge $options -}}
</span></span><span class="line"><span class="cl">{{- $options = .Get &#34;renderer&#34; | default &#34;svg&#34; | dict &#34;renderer&#34; | merge $options -}}
</span></span><span class="line"><span class="cl">{{- dict &#34;Options&#34; $options &#34;Inner&#34; .Inner | partial &#34;plugin/jsxgraph.html&#34; -}}
</span></span><span class="line"><span class="cl">{{- .Page.Store.Set &#34;hasJSXGraph&#34; true -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>接着创建 <code>./layouts/partials/plugin/jsxgraph.html</code> 并将下述代码粘贴进文件中即可 。</p>
<div class="highlight" title="jsxgraph.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- /* JSXGraph support for code fences extended and shortcodes. */ -}}
</span></span><span class="line"><span class="cl">{{- $width := .Options.width | default &#34;100%&#34; -}}
</span></span><span class="line"><span class="cl">{{- $height := .Options.height | default &#34;20rem&#34; -}}
</span></span><span class="line"><span class="cl">{{- $id := printf &#34;jsxgraph-%d&#34; now.UnixNano -}}
</span></span><span class="line"><span class="cl">{{- $attrs := printf `id=&#34;%s&#34; style=&#34;width: %v; height: %v; margin: 2rem 0; border: 1px solid; border-radius: 10px; overflow: hidden; page-break-inside: avoid; break-inside: avoid;&#34;` $id $width $height -}}
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;jsxgraph&#34;</span> <span class="err">{{</span> <span class="err">$</span><span class="na">attrs</span> <span class="err">|</span> <span class="na">safeHTMLAttr</span> <span class="err">}}</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;{{ $id }}&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">function</span> <span class="nx">runUserScript</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 替换掉 initBoard(...) 中写死的 ID，不管是 box / jxgbox / myboard
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">{{</span> <span class="p">.</span><span class="nx">Inner</span> <span class="o">|</span> <span class="nx">replaceRE</span> <span class="s2">&#34;initBoard\\(\\s*[&#39;\&#34;][^&#39;\&#34;]+[&#39;\&#34;]&#34;</span> <span class="p">(</span><span class="nx">printf</span> <span class="s2">&#34;initBoard(&#39;%s&#39;&#34;</span> <span class="nx">$id</span><span class="p">)</span> <span class="o">|</span> <span class="nx">safeJS</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="s1">&#39;loading&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;DOMContentLoaded&#34;</span><span class="p">,</span> <span class="nx">runUserScript</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">runUserScript</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})();</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>最后创建 <code>./layouts/_default/_markup/render-codeblock-jsxgraph.html</code> 并将下述代码粘贴进文件中即可 。</p>
<div class="highlight" title="render-codeblock-jsxgraph.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- dict &#34;Options&#34; .Attributes &#34;Inner&#34; .Inner | partial &#34;plugin/jsxgraph.html&#34; -}}
</span></span><span class="line"><span class="cl">{{- .Page.Store.Set &#34;hasJSXGraph&#34; true -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 class="heading-element" id="测试结果-2"><span>测试结果</span>
  <a href="#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c-2" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><div class="alert alert-tip"><p class="alert-title"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 1.5c-2.363.0-4 1.69-4 3.75.0.984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75.0 01-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456.0 00-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863.0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751.0 01-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304.0-2.06-1.637-3.75-4-3.75zM5.75 12h4.5a.75.75.0 010 1.5h-4.5a.75.75.0 010-1.5zM6 15.25a.75.75.0 01.75-.75h2.5a.75.75.0 010 1.5h-2.5A.75.75.0 016 15.25z"/></svg>提示</p><p>如果比例失调 , 可以考虑在 <code>JSXGraph.initBoard</code> 中加入 <code>keepaspectration: true</code> 。比如</p>
<div class="highlight" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">board</span> <span class="o">=</span> <span class="nx">JXG</span><span class="p">.</span><span class="nx">JSXGraph</span><span class="p">.</span><span class="nx">initBoard</span><span class="p">(</span><span class="s1">&#39;jxgbox&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">boundingbox</span><span class="o">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> 
</span></span><span class="line"><span class="cl">  <span class="nx">keepaspectratio</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></td></tr></table>
</div>
</div></div><div class="fi-row">
<p>Function term in <em>(x,y)</em>:
  <br>
  <input type"text" id="plot_input" value="sin(x * y * r / 4)" style="width: 10em; margin-top: 1rem;">
  <br>
  <input type="button" id="plot_start" value="plot" onClick="start_plot();" style="width: 4em; margin-top: 1rem;">
  <input type="button" id="plot_reset" value="reset" onClick="reset_plot();" style="width: 4em; margin-top: 1rem;">
  <br><br>
  (The function might also depend on the slider value <em>r</em>.)
</p>
</div>
<div class="jsxgraph" id="jsxgraph-1747013364348032608" style="width: 100%; height: 20rem; margin: 0.5rem 0; border: 1px solid; border-radius: 10px; overflow: hidden; background-color: white; page-break-inside: avoid; break-inside: avoid;"></div>
<script>
(function(){
  var container = document.getElementById('jsxgraph-1747013364348032608');

  function runUserScript() {
    
    // Define the id of your board in 3dplotter

// Define some colors, optimized for color blinds
var colors = [JXG.palette.blue,
        JXG.palette.red,
        JXG.palette.green,
        JXG.palette.black,
        JXG.palette.purple,
        JXG.palette.yellow,
        JXG.palette.skyblue
    ],
    cnt = 0;

// We make board a global variable.
// This is necessary just on this platform.
window.board = JXG.JSXGraph.initBoard('jsxgraph-1747013364348032608', {
    boundingbox: [-8, 8, 8, -8],
    keepaspectratio: true,
    axis: false,
    pan: {
        enabled: false
    }
});

var box = [-5, 5];
var view = board.create('view3d', [
    [-6, -3],
    [8, 8],
    [box, box, box]
], {
    xPlaneRear: {visible: false}, yPlaneRear: {visible: false}
});

// Create a slider which might be used in the function term
// using the name 'r'
var slider = board.create('slider', [[-7, -6], [5, -6], [-3, 1, 4]], { name: 'r' });

// Handler for button 'plot'
window.start_plot = function() {
    var txt = document.getElementById('plot_input').value,
        f = board.jc.snippet(txt, true, 'x,y', true), // JessieCode parsing
        el;

    el = view.create('functiongraph3d', [f, box, box], {
        strokeColor: colors[cnt],
        stepsU: 50,
        stepsV: 50,
        strokeWidth: 0.5
    });
    board.update();
    // Cycle through the color array
    cnt = (cnt + 1) % colors.length;
}

// Handler for button 'reset'
window.reset_plot = function() {
    // Complete restart of the construction
    JXG.JSXGraph.freeBoard(board);
    board = JXG.JSXGraph.initBoard('jsxgraph-1747013364348032608', {
        boundingbox: [-8, 8, 8, -8],
        keepaspectratio: true,
    });
    view = board.create('view3d', [
        [-6, -3],
        [8, 8],
        [box, box, box]
    ]);

    slider = board.create('slider', [
        [-7, -6],
        [5, -6],
        [-3, 1, 4]
    ], {
        name: 'r'
    });
    cnt = 0;
}
  }

  if (document.readyState === 'loading') {
    document.addEventListener("DOMContentLoaded", runUserScript);
  } else {
    runUserScript();
  }
})();
</script><div class="jsxgraph" id="jsxgraph-1747013364348140629" style="width: 100%; height: 20rem; margin: 0.5rem 0; border: 1px solid; border-radius: 10px; overflow: hidden; background-color: white; page-break-inside: avoid; break-inside: avoid;"></div>
<script>
(function(){
  var container = document.getElementById('jsxgraph-1747013364348140629');

  function runUserScript() {
    
    var brd = JXG.JSXGraph.initBoard('jsxgraph-1747013364348140629', {boundingbox: [-2, 2, 2, -2], keepaspectratio: true});
solveQ2 = function(x1,x2,x3,off) {
    var a, b, c, d;
    a = 0.5;
    b = -(x1+x2+x3);
    c = x1*x1+x2*x2+x3*x3-0.5*(x1+x2+x3)*(x1+x2+x3)-off;
    d = b*b-4*a*c;
    if (Math.abs(d)<0.00000001) d = 0.0;
    return [(-b+Math.sqrt(d))/(2.0*a),(-b-Math.sqrt(d))/(2.0*a)];
}   
    
a = brd.create('segment',[[0,0],[2,0]],{visible:false});
p1 = brd.create('glider',[1.3,0,a],{name:'Drag me'});
b0 = -0.5;

c0 = brd.create('circle',[[0,0],Math.abs(1.0/b0)],{strokeWidth:1});
c1 = brd.create('circle',[p1,function(){return 2-p1.X();}],{strokeWidth:1});

c2 = brd.create('circle',[[function(){return p1.X()-2;},0],function(){return p1.X();}],{strokeWidth:1});
c0.curvature = function(){ return b0;}; // constant
c1.curvature = function(){ return 1/(2-p1.X());};
c2.curvature = function(){ return 1/(p1.X());};

thirdCircleX = function() {
    var b0,b1,b2,x0,x1,x2, b3,bx3;
    b0 = c0.curvature();
    b1 = c1.curvature();
    b2 = c2.curvature();
    x0 = c0.midpoint.X();
    x1 = c1.midpoint.X();
    x2 = c2.midpoint.X();

    b3 = solveQ2(b0,b1,b2,0);
    bx3 = solveQ2(b0*x0,b1*x1,b2*x2,2);
    return bx3[0]/b3[0];
}
thirdCircleY = function() {
    var b0,b1,b2,y0,y1,y2, b3,by3;
    b0 = c0.curvature();
    b1 = c1.curvature();
    b2 = c2.curvature();
    y0 = c0.midpoint.Y();
    y1 = c1.midpoint.Y();
    y2 = c2.midpoint.Y();

    b3 = solveQ2(b0,b1,b2,0);
    by3 = solveQ2(b0*y0,b1*y1,b2*y2,2);
    return by3[0]/b3[0];
}
thirdCircleRadius = function() {
    var b0,b1,b2, b3,bx3,by3;
    b0 = c0.curvature();
    b1 = c1.curvature();
    b2 = c2.curvature();
    b3 = solveQ2(b0,b1,b2,0);
    return 1.0/b3[0];
}

c3 = brd.create('circle',[[thirdCircleX,thirdCircleY],thirdCircleRadius],{strokeWidth:1});
c3.curvature = function(){ return 1.0/this.radius;};

otherCirc = function(circs,level) {
    var c, fx,fy,fr;
    if (level<=0) return;
    fx = function() {
        var b,x,i;
        b = [];
        x = [];
        for (i=0;i<4;i++) {
            b[i] = circs[i].curvature();
            x[i] = circs[i].midpoint.X();
        }
    
        b[4] = 2*(b[0]+b[1]+b[2])-b[3];
        x[4] = (2*(b[0]*x[0]+b[1]*x[1]+b[2]*x[2])-b[3]*x[3])/b[4];
        return x[4];
    }
    fy = function() {
        var b,y,i;
        b = [];
        y = [];
        for (i=0;i<4;i++) {
            b[i] = circs[i].curvature();
            y[i] = circs[i].midpoint.Y();
        }
    
        b[4] = 2*(b[0]+b[1]+b[2])-b[3];
        y[4] = (2*(b[0]*y[0]+b[1]*y[1]+b[2]*y[2])-b[3]*y[3])/b[4];
        return y[4];
    }
    fr = function() {
        var b,i;
        b = [];
        for (i=0;i<4;i++) {
            b[i] = circs[i].curvature();
        }
        b[4] = 2*(b[0]+b[1]+b[2])-b[3];
        if (isNaN(b[4])) {
            return 1000.0;
        } else {
            return 1/b[4];
        }
    }
    c = brd.create('circle',[[fx,fy],fr],{strokeWidth:1,name:'',
                 fillColor:JXG.hsv2rgb(50*level,0.8,0.8),highlightFillColor:JXG.hsv2rgb(50*level,0.5,0.8),fillOpacity:0.5,highlightFillOpacity:0.5});
    c.curvature = function(){ return 1/this.radius;};

    // Recursion
    otherCirc([circs[0],circs[1],c,circs[2]],level-1);
    otherCirc([circs[0],circs[2],c,circs[1]],level-1);
    otherCirc([circs[1],circs[2],c,circs[0]],level-1);
    return c;
}

//-------------------------------------------------------
brd.suspendUpdate();
level = 4;
otherCirc([c0,c1,c2,c3],level);
otherCirc([c3,c1,c2,c0],level);
otherCirc([c0,c2,c3,c1],level);
otherCirc([c0,c1,c3,c2],level);
brd.unsuspendUpdate();
  }

  if (document.readyState === 'loading') {
    document.addEventListener("DOMContentLoaded", runUserScript);
  } else {
    runUserScript();
  }
})();
</script><h2 class="heading-element" id="短代码-mathbox-配置"><span>短代码 <code>mathbox</code> 配置</span>
  <a href="#%e7%9f%ad%e4%bb%a3%e7%a0%81-mathbox-%e9%85%8d%e7%bd%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>高配版的数学绘图工具 。</p>
<div class="alert alert-warning"><p class="alert-title"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086.0l6.082 11.378A1.75 1.75.0 0114.082 15H1.918A1.75 1.75.0 01.375 12.425zm1.763.707a.25.25.0 00-.44.0L1.698 13.132a.25.25.0 00.22.368h12.164a.25.25.0 00.22-.368zm.53 3.996v2.5a.75.75.0 01-1.5.0v-2.5a.75.75.0 011.5.0zM9 11a1 1 0 11-2 0 1 1 0 012 0z"/></svg>警告</p><p>由于用到了 <code>three.js</code> , 有些图像可能无法正常加载 。</p></div><h3 class="heading-element" id="配置流程-3"><span>配置流程</span>
  <a href="#%e9%85%8d%e7%bd%ae%e6%b5%81%e7%a8%8b-3" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ol>
<li>
<p>首先在 <code>./layouts/partials/assets.html</code> 中加入下述代码 :</p>
<div class="highlight" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- /* MathBox */ -}}
</span></span><span class="line"><span class="cl">{{- if .Store.Get &#34;hasMathBox&#34; -}}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/three@0.137.0/build/three.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/three@0.137.0/examples/js/controls/OrbitControls.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  {{- $source := $cdn.mathboxJS | default &#34;https://cdn.jsdelivr.net/npm/mathbox@latest/build/bundle/mathbox.js&#34; -}}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/mathbox@latest/build/mathbox.css&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  {{- dict &#34;Source&#34; $source &#34;Fingerprint&#34; $fingerprint &#34;Defer&#34; false | dict &#34;Scratch&#34; .Scratch &#34;Data&#34; | partial &#34;scratch/script.html&#34; -}}
</span></span><span class="line"><span class="cl">{{- end -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>然后创建 <code>./layouts/partials/shortcodes/mathbox.html</code> 并将下述代码粘贴进文件中即可 。</p>
<div class="highlight" title="mathbox.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- $options := .Get &#34;width&#34; | default (.Get 0) | dict &#34;width&#34; -}}
</span></span><span class="line"><span class="cl">{{- $options = .Get &#34;height&#34; | default (.Get 1) | dict &#34;height&#34; | merge $options -}}
</span></span><span class="line"><span class="cl">{{/*  {{- $options = .Get &#34;renderer&#34; | default &#34;svg&#34; | dict &#34;renderer&#34; | merge $options -}}  */}}
</span></span><span class="line"><span class="cl">{{- dict &#34;Options&#34; $options &#34;Inner&#34; .Inner | partial &#34;plugin/mathbox.html&#34; -}}
</span></span><span class="line"><span class="cl">{{- .Page.Store.Set &#34;hasMathBox&#34; true -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>接着创建 <code>./layouts/partials/plugin/mathbox.html</code> 并将下述代码粘贴进文件中即可 。</p>
<div class="highlight" title="mathbox.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- /* MathBox support for code fences extended and shortcodes. */ -}}
</span></span><span class="line"><span class="cl">{{- $width := .Options.width | default &#34;100%&#34; -}}
</span></span><span class="line"><span class="cl">{{- $height := .Options.height | default &#34;20rem&#34; -}}
</span></span><span class="line"><span class="cl">{{- $id := printf &#34;mathbox-%d&#34; now.UnixNano -}}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;{{ $id }}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;mathbox&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: {{ $width }}; height: {{ $height }}; margin: 2rem 0; border: 1px solid; border-radius: 10px; overflow: hidden; position: relative; page-break-inside: avoid; break-inside: avoid;&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;{{ $id }}&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">userScript</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 注入监控：等待用户 new dat.GUI() 并把它移到容器内
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">oldAppendChild</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">classList</span><span class="o">?</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;dg&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>  <span class="c1">// 强制把 GUI 控件放进你想要的地方
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="s1">&#39;absolute&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="s1">&#39;1rem&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">right</span> <span class="o">=</span> <span class="s1">&#39;1rem&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">oldAppendChild</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">el</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span> <span class="p">.</span><span class="nx">Inner</span> <span class="o">|</span> <span class="nx">replaceRE</span> <span class="s2">&#34;MathBox\\.mathBox\\s*\\(\\s*\\{&#34;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">     <span class="nx">printf</span> <span class="s2">&#34;MathBox.mathBox({ element: container,&#34;</span>
</span></span><span class="line"><span class="cl">     <span class="p">)</span> <span class="o">|</span> <span class="nx">safeJS</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="s1">&#39;loading&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;DOMContentLoaded&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">userScript</span><span class="p">(</span><span class="nx">container</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">userScript</span><span class="p">(</span><span class="nx">container</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})();</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>最后创建 <code>./layouts/_default/_markup/render-codeblock-mathbox.html</code> 并将下述代码粘贴进文件中即可 。</p>
<div class="highlight" title="render-codeblock-mathbox.html" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- dict &#34;Options&#34; .Attributes &#34;Inner&#34; .Inner | partial &#34;plugin/mathbox.html&#34; -}}
</span></span><span class="line"><span class="cl">{{- .Page.Store.Set &#34;hasMathBox&#34; true -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 class="heading-element" id="测试结果-3"><span>测试结果</span>
  <a href="#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c-3" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><div class="fi-row">
<script type="application/glsl" id="rotate4D">
uniform float cos1;
uniform float sin1;
uniform float cos2;
uniform float sin2;
uniform float cos3;
uniform float sin3;
uniform float cos4;
uniform float sin4;

vec4 getRotate4D(vec4 xyzw, inout vec4 stpq) {
  xyzw.xy = xyzw.xy * mat2(cos1, sin1, -sin1, cos1);
  xyzw.zw = xyzw.zw * mat2(cos2, sin2, -sin2, cos2);
  xyzw.xz = xyzw.xz * mat2(cos3, sin3, -sin3, cos3);
  xyzw.yw = xyzw.yw * mat2(cos4, sin4, -sin4, cos4);

  return xyzw;
}
</script>
</div>
<div id="mathbox-1747013364365977257" class="mathbox" style="width: 100%; height: 20rem; 
margin: 0.5rem 0; border: 1px solid; border-radius: 10px; overflow: hidden; position: relative; 
page-break-inside: avoid; break-inside: avoid;"></div>

<script>
(function(){
  const container = document.getElementById('mathbox-1747013364365977257');

  const userScript = function(container) {
    
    const oldAppendChild = document.body.appendChild;
    document.body.appendChild = function (el) {
      if (el.classList?.contains('dg')) {
        container.appendChild(el);  
        el.style.position = 'absolute';
        el.style.top = '1rem';
        el.style.right = '1rem';
        return el;
      }
      return oldAppendChild.call(this, el);
    };

    mathbox = MathBox.mathBox({ element: container,
  plugins: ["core", "controls", "cursor"],
  controls: {
    klass: THREE.OrbitControls,
  },
});
three = mathbox.three;

three.camera.position.set(2.3, 1, 2);
three.renderer.setClearColor(new THREE.Color(0xffffff), 1.0);

time = 0;
angle = 0;
deform = 0;
skew = 0;

fa = 6;
fb = 4;

three.on("update", function () {
  time = three.Time.clock * 0.6;
  angle = wobbler(time / 5) * 0.6 + MathBox.π / 4 + 0.2;
  skew = wobbler(time / 16.1) * 0.25;
  deform = wobbler(time / 7.1);

  if (deform == 0) {
    fa = (Math.ceil(Math.random() * 2) + 1) * 2;
    fb = (Math.ceil(Math.random() * 2) + 1) * 2;
  }

  deform *= cosineEase(time - 2);
});

clamp = function (x, a, b) {
  return Math.max(a, Math.min(b, x));
};

cosineEase = function (t) {
  return 0.5 - 0.5 * Math.cos(clamp(t, 0, 1) * MathBox.π);
};

wobbler = function (t) {
  t = Math.sin(
    (Math.min(1, Math.max(-1, 0.7 * Math.asin(Math.cos(MathBox.π * t)))) *
      MathBox.τ) /
      4
  );
  return t * 0.5 - 0.5;
};

hopf = function (emit, ϕ, θ, γ) {
  η =
    θ / 2 +
    (Math.cos(ϕ * 2 + time) * skew + Math.cos(ϕ * fa)) * 0.15 * deform;
  ξ1 = ϕ + Math.cos(γ * fb + time) * 0.25 * deform;
  ξ2 = γ;

  sum = ξ1 + ξ2;
  diff = ξ1 - ξ2;

  s = Math.sin(η);
  c = Math.cos(η);

  x = Math.cos(sum) * s;
  y = Math.sin(sum) * s;
  z = Math.cos(diff) * c;
  w = Math.sin(diff) * c;

  emit(z, y, w, x);
};

view = mathbox
  .unit({
    scale: 500,
  })
  .stereographic4({
    range: [
      [-4, 4],
      [-4, 4],
      [-4, 4],
      [-1, 1],
    ],
    scale: [4, 4, 4, 1],
  });

view.area({
  rangeX: [-MathBox.π, MathBox.π],
  rangeY: [-MathBox.π / 2, MathBox.π / 2],
  width: 127,
  height: 16,
  centeredX: false,
  centeredY: true,
  expr: function (emit, x, y, i, j) {
    ϕ = y;
    θ = angle;
    hopf(emit, ϕ, θ, x);
  },
  channels: 4,
});
view.line({
  color: 0x3080ff,
  zBias: 10,
  width: 3,
});

view.area({
  rangeX: [-MathBox.π, MathBox.π],
  rangeY: [-0.6, 0.6],
  width: 127,
  height: 63,
  expr: function (emit, x, y, i, j) {
    ϕ = y + time;
    θ = angle;
    hopf(emit, ϕ, θ, x);
  },
  channels: 4,
});
view.surface({
  shaded: true,
  color: 0x3080ff,
  zBias: -5,
});

view.area({
  rangeX: [-MathBox.π, MathBox.π],
  rangeY: [-MathBox.π / 2, MathBox.π / 2],
  width: 127,
  height: 63,
  expr: function (emit, x, y, i, j) {
    ϕ = y;
    θ = angle;
    hopf(emit, ϕ, θ, x);
  },
  channels: 4,
});
view.surface({
  shaded: true,
  color: 0xffffff,
  opacity: 0.5,
  zBias: -10,
});
  };

  if (document.readyState === 'loading') {
    document.addEventListener("DOMContentLoaded", () => userScript(container));
  } else {
    userScript(container);
  }
})();
</script><div id="mathbox-1747013364366127845" class="mathbox" style="width: 100%; height: 20rem; 
margin: 0.5rem 0; border: 1px solid; border-radius: 10px; overflow: hidden; position: relative; 
page-break-inside: avoid; break-inside: avoid;"></div>

<script>
(function(){
  const container = document.getElementById('mathbox-1747013364366127845');

  const userScript = function(container) {
    
    const oldAppendChild = document.body.appendChild;
    document.body.appendChild = function (el) {
      if (el.classList?.contains('dg')) {
        container.appendChild(el);  
        el.style.position = 'absolute';
        el.style.top = '1rem';
        el.style.right = '1rem';
        return el;
      }
      return oldAppendChild.call(this, el);
    };

    var π = Math.PI;
var mathbox = MathBox.mathBox({ element: container,
  plugins: ["core", "controls", "cursor"],
  controls: {
    klass: THREE.OrbitControls,
  },
});

mathbox.three.camera.position.set(0, 0, 3);
mathbox.three.renderer.setClearColor(new THREE.Color(0xffffff), 1.0);

var red = 0xdf2000;
var green = 0x20a000;
var blue = 0x3090ff;

view = mathbox
  .set({
    scale: 500,
  })
  .clock({
    speed: 0.25,
  })
  .stereographic4()
  .shader(
    {
      code: "#rotate4D",
    },
    {
      cos1: function (t) {
        return Math.cos(t * 0.111);
      },
      sin1: function (t) {
        return Math.sin(t * 0.111);
      },
      cos2: function (t) {
        return Math.cos(t * 0.151 + 1);
      },
      sin2: function (t) {
        return Math.sin(t * 0.151 + 1);
      },
      cos3: function (t) {
        return Math.cos(t * 0.071 + Math.sin(t * 0.081));
      },
      sin3: function (t) {
        return Math.sin(t * 0.071 + Math.sin(t * 0.081));
      },
      cos4: function (t) {
        return Math.cos(t * 0.053 + Math.sin(t * 0.066) + 1);
      },
      sin4: function (t) {
        return Math.sin(t * 0.053 + Math.sin(t * 0.066) + 1);
      },
    }
  )
  .vertex();

var q1 = new THREE.Quaternion();
var q2 = new THREE.Quaternion();

view.area({
  rangeX: [-π / 2, π / 2],
  rangeY: [0, 2 * π],
  width: 129,
  height: 65,
  expr: function (emit, θ, ϕ, i, j) {
    q1.set(0, 0, Math.sin(θ), Math.cos(θ));
    q2.set(0, Math.sin(ϕ), 0, Math.cos(ϕ));
    q1.multiply(q2);
    emit(q1.x, q1.y, q1.z, q1.w);
  },
  live: false,
  channels: 4,
});
view.line({
  color: blue,
});

// ===========================================================================

view.area({
  rangeX: [-π / 2, π / 2],
  rangeY: [0, 2 * π],
  width: 129,
  height: 65,
  expr: function (emit, θ, ϕ, i, j) {
    q1.set(0, Math.sin(θ), 0, Math.cos(θ));
    q2.set(Math.sin(ϕ), 0, 0, Math.cos(ϕ));
    q1.multiply(q2);
    emit(q1.x, q1.y, q1.z, q1.w);
  },
  live: false,
  channels: 4,
});
view.line({
  color: green,
});

// ===========================================================================

view.area({
  rangeX: [-π / 2, π / 2],
  rangeY: [0, 2 * π],
  width: 129,
  height: 65,
  expr: function (emit, θ, ϕ, i, j) {
    q1.set(Math.sin(θ), 0, 0, Math.cos(θ));
    q2.set(0, 0, Math.sin(ϕ), Math.cos(ϕ));
    q1.multiply(q2);
    emit(q1.x, q1.y, q1.z, q1.w);
  },
  live: false,
  channels: 4,
});
view.line({
  color: red,
});

// ===========================================================================
  };

  if (document.readyState === 'loading') {
    document.addEventListener("DOMContentLoaded", () => userScript(container));
  } else {
    userScript(container);
  }
})();
</script><h2 class="heading-element" id="将博文导出为带书签的-pdf"><span>将博文导出为带书签的 PDF</span>
  <a href="#%e5%b0%86%e5%8d%9a%e6%96%87%e5%af%bc%e5%87%ba%e4%b8%ba%e5%b8%a6%e4%b9%a6%e7%ad%be%e7%9a%84-pdf" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>首先博文在导出为 PDF 的时候 , echarts , jsxgraph 和 mathbox 并不能跟随打印纸张的宽度而自适应 。</p>
<p>其次浏览器默认的打印功能不支持为导出的 PDF 添加书签 , 因此借鉴了一下了知乎上两篇分别关于 <a href="https://zhuanlan.zhihu.com/p/652509474"target="_blank" rel="external nofollow noopener noreferrer">Typora</a><sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> 和 <a href="https://zhuanlan.zhihu.com/p/653165462"target="_blank" rel="external nofollow noopener noreferrer">Obsidian</a><sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup> 导出带书签 PDF 的文章 。另外也可以参考这篇 <a href="https://github.com/Hopding/pdf-lib/issues/127"target="_blank" rel="external nofollow noopener noreferrer">Github Issue</a><sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup> 。</p>
<h3 class="heading-element" id="配置流程-4"><span>配置流程</span>
  <a href="#%e9%85%8d%e7%bd%ae%e6%b5%81%e7%a8%8b-4" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ol>
<li>
<p>创建文件 <code>./layouts/partials/single/print-to-pdf.html</code> 并将下述内容粘贴进文件中 :</p>
<div class="highlight" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 引入 pdf-lib --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;print-controls&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;text-align: center; margin: 2rem 0;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;upload-btn&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    background-color: #444;
</span></span></span><span class="line"><span class="cl"><span class="s">    color: white;
</span></span></span><span class="line"><span class="cl"><span class="s">    padding: 0.6rem 1.2rem;
</span></span></span><span class="line"><span class="cl"><span class="s">    border-radius: 8px;
</span></span></span><span class="line"><span class="cl"><span class="s">    border: none;
</span></span></span><span class="line"><span class="cl"><span class="s">    cursor: pointer;
</span></span></span><span class="line"><span class="cl"><span class="s">    font-size: 0.95rem;
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;</span><span class="p">&gt;</span>点此上传本博文对应的 PDF 以自动为 PDF 添加书签<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;file&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;pdf-upload&#34;</span> <span class="na">accept</span><span class="o">=</span><span class="s">&#34;application/pdf&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;display: none;&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;DOMContentLoaded&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;upload-btn&#34;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;pdf-upload&#34;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;pdf-upload&#34;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;change&#34;</span><span class="p">,</span> <span class="nx">handlePdfUpload</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;beforeprint&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&#34;.single-title, .content h2, .content h3, .content h4&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">headers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;a.md-print-anchor&#34;</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">anchor</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="sb">`af://n</span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">&#34;md-header-anchor md-print-anchor&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">&#34;inline-block&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">&#34;0.1pt&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">&#34;0.1pt&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="s2">&#34;hidden&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">anchor</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">&#34;transparent&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">el</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">anchor</span><span class="p">,</span> <span class="nx">el</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;afterprint&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&#34;.md-print-anchor&#34;</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">remove</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">async</span> <span class="kd">function</span> <span class="nx">handlePdfUpload</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">file</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">file</span><span class="p">)</span> <span class="k">return</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;请先选择一个 PDF 文件&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">arrayBuffer</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">file</span><span class="p">.</span><span class="nx">arrayBuffer</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">pdfDoc</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFDocument</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">arrayBuffer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">pages</span> <span class="o">=</span> <span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">getPages</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">markerMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">pages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">annots</span> <span class="o">=</span> <span class="nx">pages</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">node</span><span class="p">.</span><span class="nx">Annots</span><span class="o">?</span><span class="p">.();</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">annots</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">annots</span><span class="p">.</span><span class="nx">size</span><span class="p">();</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">ann</span> <span class="o">=</span> <span class="nx">annots</span><span class="p">.</span><span class="nx">lookup</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFDict</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">subtype</span> <span class="o">=</span> <span class="nx">ann</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Subtype&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="nx">subtype</span><span class="o">?</span><span class="p">.</span><span class="nx">asString</span><span class="p">()</span> <span class="o">!==</span> <span class="s2">&#34;/Link&#34;</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">action</span> <span class="o">=</span> <span class="nx">ann</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;A&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">uri</span> <span class="o">=</span> <span class="nx">action</span><span class="o">?</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;URI&#34;</span><span class="p">))</span><span class="o">?</span><span class="p">.</span><span class="nx">asString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">rect</span> <span class="o">=</span> <span class="nx">ann</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Rect&#34;</span><span class="p">))</span><span class="o">?</span><span class="p">.</span><span class="nx">asRectangle</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">match</span> <span class="o">=</span> <span class="sr">/^af:\/\/(.+)$/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">uri</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">match</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">anchorId</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">          <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">rect</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">markerMap</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">anchorId</span><span class="p">,</span> <span class="p">{</span> <span class="nx">pageIndex</span><span class="o">:</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">y</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">&#34;annotation parse failed&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">headings</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&#34;.single-title, .content h2, .content h3, .content h4&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">level</span><span class="o">:</span> <span class="nx">el</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s2">&#34;.single-title&#34;</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">tagName</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">text</span><span class="o">:</span> <span class="nx">el</span><span class="p">.</span><span class="nx">innerText</span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">marker</span><span class="o">:</span> <span class="sb">`n</span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl">      <span class="p">}))</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">h</span> <span class="p">=&gt;</span> <span class="nx">markerMap</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">marker</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">headings</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;未在 PDF 中找到任何 af:// 书签标记，请确认已插入锚点并打印。&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">outlineNodes</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="nx">headings</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(({</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">level</span><span class="p">,</span> <span class="nx">marker</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span> <span class="nx">pageIndex</span><span class="p">,</span> <span class="nx">y</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">markerMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">pages</span><span class="p">[</span><span class="nx">pageIndex</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">destArray</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">obj</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">        <span class="nx">page</span><span class="p">.</span><span class="nx">ref</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;XYZ&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFNumber</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFNumber</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">y</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFNull</span>
</span></span><span class="line"><span class="cl">      <span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">dict</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">obj</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Title</span><span class="o">:</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFHexString</span><span class="p">.</span><span class="nx">fromText</span><span class="p">(</span><span class="nx">text</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Dest</span><span class="o">:</span> <span class="nx">destArray</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">dict</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">outlineNodes</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">dict</span><span class="p">,</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">level</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="p">[]</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">stack</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">topLevel</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="nx">outlineNodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">while</span> <span class="p">(</span><span class="nx">stack</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">stack</span><span class="p">[</span><span class="nx">stack</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">level</span> <span class="o">&gt;=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">level</span><span class="p">)</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">stack</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">topLevel</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">else</span> <span class="nx">stack</span><span class="p">[</span><span class="nx">stack</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">children</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">linkSiblings</span><span class="p">(</span><span class="nx">nodes</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nodes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">current</span><span class="p">.</span><span class="nx">dict</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Prev&#34;</span><span class="p">),</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">ref</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="nx">current</span><span class="p">.</span><span class="nx">dict</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Next&#34;</span><span class="p">),</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">].</span><span class="nx">ref</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">current</span><span class="p">.</span><span class="nx">dict</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;First&#34;</span><span class="p">),</span> <span class="nx">current</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ref</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">current</span><span class="p">.</span><span class="nx">dict</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Last&#34;</span><span class="p">),</span> <span class="nx">current</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">current</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">ref</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">current</span><span class="p">.</span><span class="nx">dict</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Count&#34;</span><span class="p">),</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFNumber</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">          <span class="nx">linkSiblings</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">children</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">linkSiblings</span><span class="p">(</span><span class="nx">topLevel</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">outlineDict</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">obj</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Type</span><span class="o">:</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Outlines&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">      <span class="nx">First</span><span class="o">:</span> <span class="nx">topLevel</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ref</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Last</span><span class="o">:</span> <span class="nx">topLevel</span><span class="p">[</span><span class="nx">topLevel</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">ref</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Count</span><span class="o">:</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFNumber</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">topLevel</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">catalog</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;Outlines&#34;</span><span class="p">),</span> <span class="nx">context</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">outlineDict</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">catalog</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;PageMode&#34;</span><span class="p">),</span> <span class="nx">PDFLib</span><span class="p">.</span><span class="nx">PDFName</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">&#34;UseOutlines&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">pdfBytes</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="nx">pdfBytes</span><span class="p">],</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&#34;application/pdf&#34;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">link</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">link</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">blob</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">originalName</span> <span class="o">=</span> <span class="nx">file</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\.pdf$/i</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">link</span><span class="p">.</span><span class="nx">download</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span><span class="nx">originalName</span><span class="si">}</span><span class="sb">-带书签.pdf`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">link</span><span class="p">.</span><span class="nx">click</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>将文件 <code>./themes/FixIt/layouts/posts/single.html</code> 复制到 <code>./layouts/posts/single.html</code> 并将 <code>Custom block before post footer</code> 处修改为如下 :</p>
<div class="highlight" data-open="false"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- /* Custom block before post footer */ -}}
</span></span><span class="line"><span class="cl">{{- block &#34;custom-post__footer:before&#34; . }}
</span></span><span class="line"><span class="cl">{{ partial &#34;single/print-to-pdf.html&#34; . }} {{ end -}}</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 class="heading-element" id="测试结果-4"><span>测试结果</span>
  <a href="#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c-4" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>页面底部会出现一个按钮 。</p>
<h2 class="heading-element" id="博客发布"><span>博客发布</span>
  <a href="#%e5%8d%9a%e5%ae%a2%e5%8f%91%e5%b8%83" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p><a href="https://jianzhnie.github.io/post/hugo_site/"target="_blank" rel="external nofollow noopener noreferrer">这里的链接</a><sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup>写的很清楚 。</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://github.com/hugo-fixit/FixIt/issues/574"target="_blank" rel="external nofollow noopener noreferrer">https://github.com/hugo-fixit/FixIt/issues/574</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://gohugo.io/render-hooks/passthrough/"target="_blank" rel="external nofollow noopener noreferrer">https://gohugo.io/render-hooks/passthrough/</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref1:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p><a href="https://zhuanlan.zhihu.com/p/652509474"target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/652509474</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p><a href="https://zhuanlan.zhihu.com/p/653165462"target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/653165462</a>&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5">
<p><a href="https://github.com/Hopding/pdf-lib/issues/127"target="_blank" rel="external nofollow noopener noreferrer">https://github.com/Hopding/pdf-lib/issues/127</a>&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6">
<p><a href="https://jianzhnie.github.io/post/hugo_site/"target="_blank" rel="external nofollow noopener noreferrer">https://jianzhnie.github.io/post/hugo_site/</a>&#160;<a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
</div><div class="collection-card">
      <div class="collection-title text-secondary">收录于 <a href="/collections/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"><i class="fa-solid fa-layer-group fa-fw" aria-hidden="true"></i> <span>合集・软件安装配置</span></span></a> 1</div>
      <div class="collection-nav">
        </div>
    </div>
    
<script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>

<div id="print-controls" style="text-align: center; margin: 2rem 0;">
  <button id="upload-btn" style="
    background-color: #444;
    color: white;
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-size: 0.95rem;
  ">点此上传本博文对应的 PDF 以自动为 PDF 添加书签</button>
  <input type="file" id="pdf-upload" accept="application/pdf" style="display: none;" />
</div>

<script>
  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("upload-btn").addEventListener("click", () => {
      document.getElementById("pdf-upload").click();
    });
    document.getElementById("pdf-upload").addEventListener("change", handlePdfUpload);
  });

  window.addEventListener("beforeprint", () => {
    const headers = document.querySelectorAll(".single-title, .content h2, .content h3, .content h4");
    headers.forEach((el, i) => {
      if (el.querySelector("a.md-print-anchor")) return;
      const anchor = document.createElement("a");
      anchor.href = `af://n${i}`;
      anchor.className = "md-header-anchor md-print-anchor";
      anchor.style.display = "inline-block";
      anchor.style.height = "0.1pt";
      anchor.style.width = "0.1pt";
      anchor.style.overflow = "hidden";
      anchor.style.color = "transparent";
      el.insertBefore(anchor, el.firstChild);
    });
  });

  window.addEventListener("afterprint", () => {
    document.querySelectorAll(".md-print-anchor").forEach(a => a.remove());
  });

  async function handlePdfUpload(e) {
    const file = e.target.files[0];
    if (!file) return alert("请先选择一个 PDF 文件");

    const arrayBuffer = await file.arrayBuffer();
    const pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);
    const pages = pdfDoc.getPages();
    const context = pdfDoc.context;

    const markerMap = new Map();
    for (let i = 0; i < pages.length; i++) {
      const annots = pages[i].node.Annots?.();
      if (!annots) continue;
      for (let j = 0; j < annots.size(); j++) {
        try {
          const ann = annots.lookup(j, PDFLib.PDFDict);
          const subtype = ann.get(PDFLib.PDFName.of("Subtype"));
          if (subtype?.asString() !== "/Link") continue;
          const action = ann.get(PDFLib.PDFName.of("A"));
          const uri = action?.get(PDFLib.PDFName.of("URI"))?.asString();
          const rect = ann.get(PDFLib.PDFName.of("Rect"))?.asRectangle();
          const match = /^af:\/\/(.+)$/.exec(uri);
          if (!match) continue;
          const anchorId = match[1];
          const y = rect.y;
          markerMap.set(anchorId, { pageIndex: i, y });
        } catch (err) {
          console.warn("annotation parse failed", err);
        }
      }
    }

    const headings = Array.from(document.querySelectorAll(".single-title, .content h2, .content h3, .content h4"))
      .map((el, i) => ({
        level: el.matches(".single-title") ? 1 : parseInt(el.tagName[1]),
        text: el.innerText.trim(),
        marker: `n${i}`
      }))
      .filter(h => markerMap.has(h.marker));

    if (headings.length === 0) {
      alert("未在 PDF 中找到任何 af:// 书签标记，请确认已插入锚点并打印。");
      return;
    }

    const outlineNodes = [];
    headings.forEach(({ text, level, marker }) => {
      const { pageIndex, y } = markerMap.get(marker);
      const page = pages[pageIndex];
      const destArray = context.obj([
        page.ref,
        PDFLib.PDFName.of("XYZ"),
        PDFLib.PDFNumber.of(0),
        PDFLib.PDFNumber.of(y),
        PDFLib.PDFNull
      ]);
      const dict = context.obj({
        Title: PDFLib.PDFHexString.fromText(text),
        Dest: destArray
      });
      const ref = context.register(dict);
      outlineNodes.push({ dict, ref, level, children: [] });
    });

    const stack = [], topLevel = [];
    outlineNodes.forEach(node => {
      while (stack.length > 0 && stack[stack.length - 1].level >= node.level) stack.pop();
      if (stack.length === 0) topLevel.push(node);
      else stack[stack.length - 1].children.push(node);
      stack.push(node);
    });

    function linkSiblings(nodes) {
      for (let i = 0; i < nodes.length; i++) {
        const current = nodes[i];
        if (i > 0) current.dict.set(PDFLib.PDFName.of("Prev"), nodes[i - 1].ref);
        if (i < nodes.length - 1) current.dict.set(PDFLib.PDFName.of("Next"), nodes[i + 1].ref);
        if (current.children.length > 0) {
          current.dict.set(PDFLib.PDFName.of("First"), current.children[0].ref);
          current.dict.set(PDFLib.PDFName.of("Last"), current.children[current.children.length - 1].ref);
          current.dict.set(PDFLib.PDFName.of("Count"), PDFLib.PDFNumber.of(current.children.length));
          linkSiblings(current.children);
        }
      }
    }

    linkSiblings(topLevel);

    const outlineDict = context.obj({
      Type: PDFLib.PDFName.of("Outlines"),
      First: topLevel[0].ref,
      Last: topLevel[topLevel.length - 1].ref,
      Count: PDFLib.PDFNumber.of(topLevel.length)
    });

    pdfDoc.catalog.set(PDFLib.PDFName.of("Outlines"), context.register(outlineDict));
    pdfDoc.catalog.set(PDFLib.PDFName.of("PageMode"), PDFLib.PDFName.of("UseOutlines"));

    const pdfBytes = await pdfDoc.save();
    const blob = new Blob([pdfBytes], { type: "application/pdf" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    const originalName = file.name.replace(/\.pdf$/i, '');
    link.download = `${originalName}-带书签.pdf`;

    link.click();
  }
</script><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="更新于 2025-03-24 17:10:04">更新于 2025-03-24&nbsp;</span>
      </div><div class="post-info-license">
            <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></span>
          </div></div><div class="post-info-line">
        <div class="post-info-md"><span><a href="vscode://file//mnt/d/Studies/Myself/Arena/fixit/content/posts/config-HUGO_FIXIT.md" title="在编辑器中打开"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-vscode">在编辑器中打开</a></span></div>
        <div class="post-info-share">
          <span></span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/hugo/" class="post-tag" title="标签 - HUGO">HUGO</a><a href="/tags/%E5%8D%9A%E5%AE%A2/" class="post-tag" title="标签 - 博客">博客</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div><div class="post-nav"><a href="/posts/5cce8df/" class="post-nav-item" rel="next" title="翻译-EOPL-01-递归的数据集">翻译-EOPL-01-递归的数据集<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article>

  <aside class="toc" id="toc-auto" aria-label="目录"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content always-active" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.147.2">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.3.21-a85a6655">FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">
              <a href="/"></a></span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">该网站在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><script>
  MathJax = {
    loader: {
      load: ['[custom]/xypic.js'],
      paths: { custom: 'https://cdn.jsdelivr.net/gh/sonoisa/XyJax-v3@3.0.1/build/' }
    },
    tex: {
      packages: { '[+]': ['xypic'] },
      inlineMath: [['\\(', '\\)'], ['$', '$']],
      displayMath: [['\\[', '\\]'], ['$$', '$$']],
      processEscapes: true,
      
      useLabelIds: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      enableMenu: false,
    },
    chtml: {
      scale: 0.8,                    
      minScale: .5,                  
      mtextInheritFont: false,       
      merrorInheritFont: true,       
      adaptiveCSS: true,
    },
    svg: {
      scale: 0.8,
      minScale: .5,
      mtextInheritFont: false,
      merrorInheritFont: true
    }
  };
</script>

<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
<style>
  mjx-container {
    display: inline-grid;
    overflow-x: auto;
    overflow-y: hidden !important;
    max-width: 100%;
  }
  mjx-container svg {
    display: inline-grid !important;
    overflow-x: auto;
    overflow-y: hidden !important;
    max-width: 100%;
  }
</style><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.137.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.137.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dat.gui@latest/build/dat.gui.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mathbox@latest/build/mathbox.css" /><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="preload" href="/lib/aplayer/APlayer.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/aplayer/APlayer.min.css"></noscript><link rel="stylesheet" href="/lib/aplayer/dark.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/fuse/fuse.min.js" defer></script><script src="/lib/lightgallery/lightgallery.min.js" defer></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js" defer></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js" defer></script><script src="https://cdn.jsdelivr.net/npm/mathbox@latest/build/bundle/mathbox.js" defer></script><script src="/lib/aplayer/APlayer.min.js" defer></script><script src="/lib/meting/Meting.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":10},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightgallery":true,"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/search.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":30,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"version":"v0.3.21-a85a6655"};console.log('Page config:', window.config);</script><script src="/js/theme.min.js" defer></script></body>
</html>
